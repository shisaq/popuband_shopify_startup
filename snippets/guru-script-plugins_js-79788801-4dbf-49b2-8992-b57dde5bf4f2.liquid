<script type="text/javascript">{% raw %}(function(){var ah=this,ar=ah._,an={},U=Array.prototype,au=Object.prototype,aa=Function.prototype,G=U.push,aj=U.slice,L=U.concat,ae=au.toString,W=au.hasOwnProperty,ap=U.forEach,al=U.map,av=U.reduce,Z=U.reduceRight,Y=U.filter,P=U.every,af=U.some,ay=U.indexOf,J=U.lastIndexOf,ax=Array.isArray,C=Object.keys,ac=aa.bind,aw=function(a){return a instanceof aw?a:this instanceof aw?(this._wrapped=a,void 0):new aw(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=aw),exports._=aw):ah._=aw,aw.VERSION="1.4.3";var H=aw.each=aw.forEach=function(f,g,c){if(null!=f){if(ap&&f.forEach===ap){f.forEach(g,c)}else{if(f.length===+f.length){for(var h=0,d=f.length;d>h;h++){if(g.call(c,f[h],h,f)===an){return}}}else{for(var b in f){if(aw.has(f,b)&&g.call(c,f[b],b,f)===an){return}}}}}};aw.map=aw.collect=function(b,d,c){var a=[];return null==b?a:al&&b.map===al?b.map(d,c):(H(b,function(f,g,e){a[a.length]=d.call(c,f,g,e)}),a)};var ak="Reduce of empty array with no initial value";aw.reduce=aw.foldl=aw.inject=function(b,d,c,a){var f=arguments.length>2;if(null==b&&(b=[]),av&&b.reduce===av){return a&&(d=aw.bind(d,a)),f?b.reduce(d,c):b.reduce(d)}if(H(b,function(h,g,e){f?c=d.call(a,c,h,g,e):(c=h,f=!0)}),!f){throw new TypeError(ak)}return c},aw.reduceRight=aw.foldr=function(f,h,g,c){var j=arguments.length>2;if(null==f&&(f=[]),Z&&f.reduceRight===Z){return c&&(h=aw.bind(h,c)),j?f.reduceRight(h,g):f.reduceRight(h)}var d=f.length;if(d!==+d){var b=aw.keys(f);d=b.length}if(H(f,function(i,a,e){a=b?b[--d]:--d,j?g=h.call(c,g,f[a],a,e):(g=f[a],j=!0)}),!j){throw new TypeError(ak)}return g},aw.find=aw.detect=function(b,d,c){var a;return V(b,function(f,g,e){return d.call(c,f,g,e)?(a=f,!0):void 0}),a},aw.filter=aw.select=function(b,d,c){var a=[];return null==b?a:Y&&b.filter===Y?b.filter(d,c):(H(b,function(f,g,e){d.call(c,f,g,e)&&(a[a.length]=f)}),a)},aw.reject=function(a,c,b){return aw.filter(a,function(f,d,g){return !c.call(b,f,d,g)},b)},aw.every=aw.all=function(b,c,a){c||(c=aw.identity);var d=!0;return null==b?d:P&&b.every===P?b.every(c,a):(H(b,function(g,f,e){return(d=d&&c.call(a,g,f,e))?void 0:an}),!!d)};var V=aw.some=aw.any=function(b,c,a){c||(c=aw.identity);var d=!1;return null==b?d:af&&b.some===af?b.some(c,a):(H(b,function(g,f,e){return d||(d=c.call(a,g,f,e))?an:void 0}),!!d)};aw.contains=aw.include=function(a,b){return null==a?!1:ay&&a.indexOf===ay?-1!=a.indexOf(b):V(a,function(c){return c===b})},aw.invoke=function(a,c){var b=aj.call(arguments,2);return aw.map(a,function(d){return(aw.isFunction(c)?c:d[c]).apply(d,b)})},aw.pluck=function(a,b){return aw.map(a,function(c){return c[b]})},aw.where=function(a,b){return aw.isEmpty(b)?[]:aw.filter(a,function(c){for(var d in b){if(b[d]!==c[d]){return !1}}return !0})},aw.max=function(b,d,c){if(!d&&aw.isArray(b)&&b[0]===+b[0]&&65535>b.length){return Math.max.apply(Math,b)}if(!d&&aw.isEmpty(b)){return -1/0}var a={computed:-1/0,value:-1/0};return H(b,function(g,h,f){var e=d?d.call(c,g,h,f):g;e>=a.computed&&(a={value:g,computed:e})}),a.value},aw.min=function(b,d,c){if(!d&&aw.isArray(b)&&b[0]===+b[0]&&65535>b.length){return Math.min.apply(Math,b)}if(!d&&aw.isEmpty(b)){return 1/0}var a={computed:1/0,value:1/0};return H(b,function(g,h,f){var e=d?d.call(c,g,h,f):g;a.computed>e&&(a={value:g,computed:e})}),a.value},aw.shuffle=function(b){var d,c=0,a=[];return H(b,function(e){d=aw.random(c++),a[c-1]=a[d],a[d]=e}),a};var X=function(a){return aw.isFunction(a)?a:function(b){return b[a]}};aw.sortBy=function(b,d,c){var a=X(d);return aw.pluck(aw.map(b,function(e,f,g){return{value:e,index:f,criteria:a.call(c,e,f,g)}}).sort(function(g,i){var h=g.criteria,f=i.criteria;if(h!==f){if(h>f||void 0===h){return 1}if(f>h||void 0===f){return -1}}return g.index<i.index?-1:1}),"value")};var ad=function(c,f,d,a){var g={},b=X(f||aw.identity);return H(c,function(i,e){var h=b.call(d,i,e,c);a(g,h,i)}),g};aw.groupBy=function(a,c,b){return ad(a,c,b,function(d,f,e){(aw.has(d,f)?d[f]:d[f]=[]).push(e)})},aw.countBy=function(a,c,b){return ad(a,c,b,function(d,e){aw.has(d,e)||(d[e]=0),d[e]++})},aw.sortedIndex=function(f,j,h,c){h=null==h?aw.identity:X(h);for(var k=h.call(c,j),d=0,b=f.length;b>d;){var g=d+b>>>1;k>h.call(c,f[g])?d=g+1:b=g}return d},aw.toArray=function(a){return a?aw.isArray(a)?aj.call(a):a.length===+a.length?aw.map(a,aw.identity):aw.values(a):[]},aw.size=function(a){return null==a?0:a.length===+a.length?a.length:aw.keys(a).length},aw.first=aw.head=aw.take=function(a,c,b){return null==a?void 0:null==c||b?a[0]:aj.call(a,0,c)},aw.initial=function(a,c,b){return aj.call(a,0,a.length-(null==c||b?1:c))},aw.last=function(a,c,b){return null==a?void 0:null==c||b?a[a.length-1]:aj.call(a,Math.max(a.length-c,0))},aw.rest=aw.tail=aw.drop=function(a,c,b){return aj.call(a,null==c||b?1:c)},aw.compact=function(a){return aw.filter(a,aw.identity)};var ao=function(a,c,b){return H(a,function(d){aw.isArray(d)?c?G.apply(b,d):ao(d,c,b):b.push(d)}),b};aw.flatten=function(a,b){return ao(a,b,[])},aw.without=function(a){return aw.difference(a,aj.call(arguments,1))},aw.uniq=aw.unique=function(f,h,g,c){aw.isFunction(h)&&(c=g,g=h,h=!1);var j=g?aw.map(f,g,c):f,d=[],b=[];return H(j,function(i,a){(h?a&&b[b.length-1]===i:aw.contains(b,i))||(b.push(i),d.push(f[a]))}),d},aw.union=function(){return aw.uniq(L.apply(U,arguments))},aw.intersection=function(a){var b=aj.call(arguments,1);return aw.filter(aw.uniq(a),function(c){return aw.every(b,function(d){return aw.indexOf(d,c)>=0})})},aw.difference=function(a){var b=L.apply(U,aj.call(arguments,1));return aw.filter(a,function(c){return !aw.contains(b,c)})},aw.zip=function(){for(var b=aj.call(arguments),d=aw.max(aw.pluck(b,"length")),c=Array(d),a=0;d>a;a++){c[a]=aw.pluck(b,""+a)}return c},aw.object=function(b,d){if(null==b){return{}}for(var c={},a=0,f=b.length;f>a;a++){d?c[b[a]]=d[a]:c[b[a][0]]=b[a][1]}return c},aw.indexOf=function(b,d,c){if(null==b){return -1}var a=0,f=b.length;if(c){if("number"!=typeof c){return a=aw.sortedIndex(b,d),b[a]===d?a:-1}a=0>c?Math.max(0,f+c):c}if(ay&&b.indexOf===ay){return b.indexOf(d,c)}for(;f>a;a++){if(b[a]===d){return a}}return -1},aw.lastIndexOf=function(b,d,c){if(null==b){return -1}var a=null!=c;if(J&&b.lastIndexOf===J){return a?b.lastIndexOf(d,c):b.lastIndexOf(d)}for(var f=a?c:b.length;f--;){if(b[f]===d){return f}}return -1},aw.range=function(c,f,d){1>=arguments.length&&(f=c||0,c=0),d=arguments[2]||1;for(var a=Math.max(Math.ceil((f-c)/d),0),g=0,b=Array(a);a>g;){b[g++]=c,c+=d}return b};var ab=function(){};aw.bind=function(b,d){var c,a;if(b.bind===ac&&ac){return ac.apply(b,aj.call(arguments,1))}if(!aw.isFunction(b)){throw new TypeError}return c=aj.call(arguments,2),a=function(){if(!(this instanceof a)){return b.apply(d,c.concat(aj.call(arguments)))}ab.prototype=b.prototype;var f=new ab;ab.prototype=null;var e=b.apply(f,c.concat(aj.call(arguments)));return Object(e)===e?e:f}},aw.bindAll=function(a){var b=aj.call(arguments,1);return 0==b.length&&(b=aw.functions(a)),H(b,function(c){a[c]=aw.bind(a[c],a)}),a},aw.memoize=function(a,c){var b={};return c||(c=aw.identity),function(){var d=c.apply(this,arguments);return aw.has(b,d)?b[d]:b[d]=a.apply(this,arguments)}},aw.delay=function(a,c){var b=aj.call(arguments,2);return setTimeout(function(){return a.apply(null,b)},c)},aw.defer=function(a){return aw.delay.apply(aw,[a,1].concat(aj.call(arguments,1)))},aw.throttle=function(f,j){var h,c,k,d,b=0,g=function(){b=new Date,k=null,d=f.apply(h,c)};return function(){var a=new Date,e=j-(a-b);return h=this,c=arguments,0>=e?(clearTimeout(k),k=null,b=a,d=f.apply(h,c)):k||(k=setTimeout(g,e)),d}},aw.debounce=function(b,d,c){var a,f;return function(){var h=this,e=arguments,j=function(){a=null,c||(f=b.apply(h,e))},g=c&&!a;return clearTimeout(a),a=setTimeout(j,d),g&&(f=b.apply(h,e)),f}},aw.once=function(a){var c,b=!1;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}},aw.wrap=function(a,b){return function(){var c=[a];return G.apply(c,arguments),b.apply(this,c)}},aw.compose=function(){var a=arguments;return function(){for(var c=arguments,b=a.length-1;b>=0;b--){c=[a[b].apply(this,c)]}return c[0]}},aw.after=function(a,b){return 0>=a?b():function(){return 1>--a?b.apply(this,arguments):void 0}},aw.keys=C||function(a){if(a!==Object(a)){throw new TypeError("Invalid object")}var c=[];for(var b in a){aw.has(a,b)&&(c[c.length]=b)}return c},aw.values=function(a){var c=[];for(var b in a){aw.has(a,b)&&c.push(a[b])}return c},aw.pairs=function(a){var c=[];for(var b in a){aw.has(a,b)&&c.push([b,a[b]])}return c},aw.invert=function(a){var c={};for(var b in a){aw.has(a,b)&&(c[a[b]]=b)}return c},aw.functions=aw.methods=function(a){var c=[];for(var b in a){aw.isFunction(a[b])&&c.push(b)}return c.sort()},aw.extend=function(a){return H(aj.call(arguments,1),function(c){if(c){for(var b in c){a[b]=c[b]}}}),a},aw.pick=function(a){var c={},b=L.apply(U,aj.call(arguments,1));return H(b,function(d){d in a&&(c[d]=a[d])}),c},aw.omit=function(a){var c={},b=L.apply(U,aj.call(arguments,1));for(var d in a){aw.contains(b,d)||(c[d]=a[d])}return c},aw.defaults=function(a){return H(aj.call(arguments,1),function(c){if(c){for(var b in c){null==a[b]&&(a[b]=c[b])}}}),a},aw.clone=function(a){return aw.isObject(a)?aw.isArray(a)?a.slice():aw.extend({},a):a},aw.tap=function(a,b){return b(a),a};var aq=function(k,q,m,g){if(k===q){return 0!==k||1/k==1/q}if(null==k||null==q){return k===q}k instanceof aw&&(k=k._wrapped),q instanceof aw&&(q=q._wrapped);var v=ae.call(k);if(v!=ae.call(q)){return !1}switch(v){case"[object String]":return k==q+"";case"[object Number]":return k!=+k?q!=+q:0==k?1/k==1/q:k==+q;case"[object Date]":case"[object Boolean]":return +k==+q;case"[object RegExp]":return k.source==q.source&&k.global==q.global&&k.multiline==q.multiline&&k.ignoreCase==q.ignoreCase}if("object"!=typeof k||"object"!=typeof q){return !1}for(var j=m.length;j--;){if(m[j]==k){return g[j]==q}}m.push(k),g.push(q);var b=0,l=!0;if("[object Array]"==v){if(b=k.length,l=b==q.length){for(;b--&&(l=aq(k[b],q[b],m,g));){}}}else{var d=k.constructor,h=q.constructor;if(d!==h&&!(aw.isFunction(d)&&d instanceof d&&aw.isFunction(h)&&h instanceof h)){return !1}for(var p in k){if(aw.has(k,p)&&(b++,!(l=aw.has(q,p)&&aq(k[p],q[p],m,g)))){break}}if(l){for(p in q){if(aw.has(q,p)&&!b--){break}}l=!b}}return m.pop(),g.pop(),l};aw.isEqual=function(a,b){return aq(a,b,[],[])},aw.isEmpty=function(a){if(null==a){return !0}if(aw.isArray(a)||aw.isString(a)){return 0===a.length}for(var b in a){if(aw.has(a,b)){return !1}}return !0},aw.isElement=function(a){return !(!a||1!==a.nodeType)},aw.isArray=ax||function(a){return"[object Array]"==ae.call(a)},aw.isObject=function(a){return a===Object(a)},H(["Arguments","Function","String","Number","Date","RegExp"],function(a){aw["is"+a]=function(b){return ae.call(b)=="[object "+a+"]"}}),aw.isArguments(arguments)||(aw.isArguments=function(a){return !(!a||!aw.has(a,"callee"))}),aw.isFunction=function(a){return"function"==typeof a},aw.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},aw.isNaN=function(a){return aw.isNumber(a)&&a!=+a},aw.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==ae.call(a)},aw.isNull=function(a){return null===a},aw.isUndefined=function(a){return void 0===a},aw.has=function(a,b){return W.call(a,b)},aw.noConflict=function(){return ah._=ar,this},aw.identity=function(a){return a},aw.times=function(b,d,c){for(var a=Array(b),f=0;b>f;f++){a[f]=d.call(c,f)}return a},aw.random=function(a,b){return null==b&&(b=a,a=0),a+(0|Math.random()*(b-a+1))};var at={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};at.unescape=aw.invert(at.escape);var ag={escape:RegExp("["+aw.keys(at.escape).join("")+"]","g"),unescape:RegExp("("+aw.keys(at.unescape).join("|")+")","g")};aw.each(["escape","unescape"],function(a){aw[a]=function(b){return null==b?"":(""+b).replace(ag[a],function(c){return at[a][c]})}}),aw.result=function(a,c){if(null==a){return null}var b=a[c];return aw.isFunction(b)?b.call(a):b},aw.mixin=function(a){H(aw.functions(a),function(c){var b=aw[c]=a[c];aw.prototype[c]=function(){var d=[this._wrapped];return G.apply(d,arguments),az.call(this,b.apply(aw,d))}})};var ai=0;aw.uniqueId=function(a){var b=""+ ++ai;return a?a+b:b},aw.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var am=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n"," ":"t","\u2028":"u2028","\u2029":"u2029"},Q=/\\|'|\r|\n|\t|\u2028|\u2029/g;aw.template=function(h,l,k){k=aw.defaults({},k,aw.templateSettings);var f=RegExp([(k.escape||am).source,(k.interpolate||am).source,(k.evaluate||am).source].join("|")+"|$","g"),m=0,g="__p+='";h.replace(f,function(q,p,i,c,n){return g+=h.slice(m,n).replace(Q,function(a){return"\\"+K[a]}),p&&(g+="'+\n((__t=("+p+"))==null?'':_.escape(__t))+\n'"),i&&(g+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),c&&(g+="';\n"+c+"\n__p+='"),m=n+q.length,q}),g+="';\n",k.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{var b=Function(k.variable||"obj","_",g)}catch(j){throw j.source=g,j}if(l){return b(l,aw)}var d=function(a){return b.call(this,a,aw)};return d.source="function("+(k.variable||"obj")+"){\n"+g+"}",d},aw.chain=function(a){return aw(a).chain()};var az=function(a){return this._chain?aw(a).chain():a};aw.mixin(aw),H(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=U[a];aw.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],az.call(this,c)}}),H(["concat","join","slice"],function(a){var b=U[a];aw.prototype[a]=function(){return az.call(this,b.apply(this._wrapped,arguments))}}),aw.extend(aw.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);(function(){var T=this,b=T.Backbone,o=[],c=o.push,Y=o.slice,d=o.splice,k;k="undefined"!==typeof exports?exports:T.Backbone={};k.VERSION="0.9.10";var i=T._;!i&&"undefined"!==typeof require&&(i=require("underscore"));k.$=T.jQuery||T.Zepto||T.ender;k.noConflict=function(){T.Backbone=b;return this};k.emulateHTTP=!1;k.emulateJSON=!1;var Z=/\s+/,V=function(g,h,m,n){if(!m){return !0}if("object"===typeof m){for(var q in m){g[h].apply(g,[q,m[q]].concat(n))}}else{if(Z.test(m)){m=m.split(Z);q=0;for(var r=m.length;q<r;q++){g[h].apply(g,[m[q]].concat(n))}}else{return !0}}},aa=function(f,g){var h,m=-1,n=f.length;switch(g.length){case 0:for(;++m<n;){(h=f[m]).callback.call(h.ctx)}break;case 1:for(;++m<n;){(h=f[m]).callback.call(h.ctx,g[0])}break;case 2:for(;++m<n;){(h=f[m]).callback.call(h.ctx,g[0],g[1])}break;case 3:for(;++m<n;){(h=f[m]).callback.call(h.ctx,g[0],g[1],g[2])}break;default:for(;++m<n;){(h=f[m]).callback.apply(h.ctx,g)}}},o=k.Events={on:function(f,g,h){if(!V(this,"on",f,[g,h])||!g){return this}this._events||(this._events={});(this._events[f]||(this._events[f]=[])).push({callback:g,context:h,ctx:h||this});return this},once:function(f,g,h){if(!V(this,"once",f,[g,h])||!g){return this}var m=this,n=i.once(function(){m.off(f,n);g.apply(this,arguments)});n._callback=g;this.on(f,n,h);return this},off:function(f,m,n){var q,r,y,s,v,x,w,u;if(!this._events||!V(this,"off",f,[m,n])){return this}if(!f&&!m&&!n){return this._events={},this}s=f?[f]:i.keys(this._events);v=0;for(x=s.length;v<x;v++){if(f=s[v],q=this._events[f]){y=[];if(m||n){w=0;for(u=q.length;w<u;w++){r=q[w],(m&&m!==r.callback&&m!==r.callback._callback||n&&n!==r.context)&&y.push(r)}}this._events[f]=y}}return this},trigger:function(f){if(!this._events){return this}var g=Y.call(arguments,1);if(!V(this,"trigger",f,g)){return this}var h=this._events[f],m=this._events.all;h&&aa(h,g);m&&aa(m,arguments);return this},listenTo:function(f,g,h){var m=this._listeners||(this._listeners={}),n=f._listenerId||(f._listenerId=i.uniqueId("l"));m[n]=f;f.on(g,"object"===typeof g?this:h,this);return this},stopListening:function(f,g,h){var m=this._listeners;if(m){if(f){f.off(g,"object"===typeof g?this:h,this),!g&&!h&&delete m[f._listenerId]}else{"object"===typeof g&&(h=this);for(var n in m){m[n].off(g,h,this)}this._listeners={}}return this}}};o.bind=o.on;o.unbind=o.off;i.extend(k,o);var W=k.Model=function(f,g){var h,m=f||{};this.cid=i.uniqueId("c");this.attributes={};g&&g.collection&&(this.collection=g.collection);g&&g.parse&&(m=this.parse(m,g)||{});if(h=i.result(this,"defaults")){m=i.defaults({},m,h)}this.set(m,g);this.changed={};this.initialize.apply(this,arguments)};i.extend(W.prototype,o,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(){return i.clone(this.attributes)},sync:function(){return k.sync.apply(this,arguments)},get:function(f){return this.attributes[f]},escape:function(f){return i.escape(this.get(f))},has:function(f){return null!=this.get(f)},set:function(f,h,m){var n,q,r,w,s,v,u;if(null==f){return this}"object"===typeof f?(q=f,m=h):(q={})[f]=h;m||(m={});if(!this._validate(q,m)){return !1}r=m.unset;w=m.silent;f=[];s=this._changing;this._changing=!0;s||(this._previousAttributes=i.clone(this.attributes),this.changed={});u=this.attributes;v=this._previousAttributes;this.idAttribute in q&&(this.id=q[this.idAttribute]);for(n in q){h=q[n],i.isEqual(u[n],h)||f.push(n),i.isEqual(v[n],h)?delete this.changed[n]:this.changed[n]=h,r?delete u[n]:u[n]=h}if(!w){f.length&&(this._pending=!0);h=0;for(n=f.length;h<n;h++){this.trigger("change:"+f[h],this,u[f[h]],m)}}if(s){return this}if(!w){for(;this._pending;){this._pending=!1,this.trigger("change",this,m)}}this._changing=this._pending=!1;return this},unset:function(f,g){return this.set(f,void 0,i.extend({},g,{unset:!0}))},clear:function(f){var g={},h;for(h in this.attributes){g[h]=void 0}return this.set(g,i.extend({},f,{unset:!0}))},hasChanged:function(f){return null==f?!i.isEmpty(this.changed):i.has(this.changed,f)},changedAttributes:function(f){if(!f){return this.hasChanged()?i.clone(this.changed):!1}var g,h=!1,m=this._changing?this._previousAttributes:this.attributes,n;for(n in f){if(!i.isEqual(m[n],g=f[n])){(h||(h={}))[n]=g}}return h},previous:function(f){return null==f||!this._previousAttributes?null:this._previousAttributes[f]},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(f){f=f?i.clone(f):{};void 0===f.parse&&(f.parse=!0);var g=f.success;f.success=function(h,m,n){if(!h.set(h.parse(m,n),n)){return !1}g&&g(h,m,n)};return this.sync("read",this,f)},save:function(f,h,m){var n,q,r=this.attributes;null==f||"object"===typeof f?(n=f,m=h):(n={})[f]=h;if(n&&(!m||!m.wait)&&!this.set(n,m)){return !1}m=i.extend({validate:!0},m);if(!this._validate(n,m)){return !1}n&&m.wait&&(this.attributes=i.extend({},r,n));void 0===m.parse&&(m.parse=!0);q=m.success;m.success=function(g,s,u){g.attributes=r;var v=g.parse(s,u);u.wait&&(v=i.extend(n||{},v));if(i.isObject(v)&&!g.set(v,u)){return !1}q&&q(g,s,u)};f=this.isNew()?"create":m.patch?"patch":"update";"patch"===f&&(m.attrs=n);f=this.sync(f,this,m);n&&m.wait&&(this.attributes=r);return f},destroy:function(f){f=f?i.clone(f):{};var g=this,h=f.success,m=function(){g.trigger("destroy",g,g.collection,f)};f.success=function(q,r,s){(s.wait||q.isNew())&&m();h&&h(q,r,s)};if(this.isNew()){return f.success(this,null,f),!1}var n=this.sync("delete",this,f);f.wait||m();return n},url:function(){var f=i.result(this,"urlRoot")||i.result(this.collection,"url")||ab();return this.isNew()?f:f+("/"===f.charAt(f.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(f){return f},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(f){return !this.validate||!this.validate(this.attributes,f)},_validate:function(f,g){if(!g.validate||!this.validate){return !0}f=i.extend({},this.attributes,f);var h=this.validationError=this.validate(f,g)||null;if(!h){return !0}this.trigger("invalid",this,h,g||{});return !1}});var X=k.Collection=function(f,g){g||(g={});g.model&&(this.model=g.model);void 0!==g.comparator&&(this.comparator=g.comparator);this.models=[];this._reset();this.initialize.apply(this,arguments);f&&this.reset(f,i.extend({silent:!0},g))};i.extend(X.prototype,o,{model:W,initialize:function(){},toJSON:function(f){return this.map(function(g){return g.toJSON(f)})},sync:function(){return k.sync.apply(this,arguments)},add:function(f,n){f=i.isArray(f)?f.slice():[f];n||(n={});var q,r,s,u,A,w,y,x,v,z;y=[];x=n.at;v=this.comparator&&null==x&&!1!=n.sort;z=i.isString(this.comparator)?this.comparator:null;q=0;for(r=f.length;q<r;q++){(s=this._prepareModel(u=f[q],n))?(A=this.get(s))?n.merge&&(A.set(u===s?s.attributes:u,n),v&&(!w&&A.hasChanged(z))&&(w=!0)):(y.push(s),s.on("all",this._onModelEvent,this),this._byId[s.cid]=s,null!=s.id&&(this._byId[s.id]=s)):this.trigger("invalid",this,u,n)}y.length&&(v&&(w=!0),this.length+=y.length,null!=x?d.apply(this.models,[x,0].concat(y)):c.apply(this.models,y));w&&this.sort({silent:!0});if(n.silent){return this}q=0;for(r=y.length;q<r;q++){(s=y[q]).trigger("add",s,this,n)}w&&this.trigger("sort",this,n);return this},remove:function(f,h){f=i.isArray(f)?f.slice():[f];h||(h={});var m,n,q,r;m=0;for(n=f.length;m<n;m++){if(r=this.get(f[m])){delete this._byId[r.id],delete this._byId[r.cid],q=this.indexOf(r),this.models.splice(q,1),this.length--,h.silent||(h.index=q,r.trigger("remove",r,this,h)),this._removeReference(r)}}return this},push:function(f,g){f=this._prepareModel(f,g);this.add(f,i.extend({at:this.length},g));return f},pop:function(f){var g=this.at(this.length-1);this.remove(g,f);return g},unshift:function(f,g){f=this._prepareModel(f,g);this.add(f,i.extend({at:0},g));return f},shift:function(f){var g=this.at(0);this.remove(g,f);return g},slice:function(f,g){return this.models.slice(f,g)},get:function(f){if(null!=f){return this._idAttr||(this._idAttr=this.model.prototype.idAttribute),this._byId[f.id||f.cid||f[this._idAttr]||f]}},at:function(f){return this.models[f]},where:function(f){return i.isEmpty(f)?[]:this.filter(function(g){for(var h in f){if(f[h]!==g.get(h)){return !1}}return !0})},sort:function(f){if(!this.comparator){throw Error("Cannot sort a set without a comparator")}f||(f={});i.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(i.bind(this.comparator,this));f.silent||this.trigger("sort",this,f);return this},pluck:function(f){return i.invoke(this.models,"get",f)},update:function(f,m){m=i.extend({add:!0,merge:!0,remove:!0},m);m.parse&&(f=this.parse(f,m));var n,q,r,s,u=[],v=[],w={};i.isArray(f)||(f=f?[f]:[]);if(m.add&&!m.remove){return this.add(f,m)}q=0;for(r=f.length;q<r;q++){n=f[q],s=this.get(n),m.remove&&s&&(w[s.cid]=!0),(m.add&&!s||m.merge&&s)&&u.push(n)}if(m.remove){q=0;for(r=this.models.length;q<r;q++){n=this.models[q],w[n.cid]||v.push(n)}}v.length&&this.remove(v,m);u.length&&this.add(u,m);return this},reset:function(f,g){g||(g={});g.parse&&(f=this.parse(f,g));for(var h=0,m=this.models.length;h<m;h++){this._removeReference(this.models[h])}g.previousModels=this.models.slice();this._reset();f&&this.add(f,i.extend({silent:!0},g));g.silent||this.trigger("reset",this,g);return this},fetch:function(f){f=f?i.clone(f):{};void 0===f.parse&&(f.parse=!0);var g=f.success;f.success=function(h,m,n){h[n.update?"update":"reset"](m,n);g&&g(h,m,n)};return this.sync("read",this,f)},create:function(f,g){g=g?i.clone(g):{};if(!(f=this._prepareModel(f,g))){return !1}g.wait||this.add(f,g);var h=this,m=g.success;g.success=function(n,q,r){r.wait&&h.add(n,r);m&&m(n,q,r)};f.save(null,g);return f},parse:function(f){return f},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models.length=0;this._byId={}},_prepareModel:function(f,g){if(f instanceof W){return f.collection||(f.collection=this),f}g||(g={});g.collection=this;var h=new this.model(f,g);return !h._validate(f,g)?!1:h},_removeReference:function(f){this===f.collection&&delete f.collection;f.off("all",this._onModelEvent,this)},_onModelEvent:function(f,g,h,m){("add"===f||"remove"===f)&&h!==this||("destroy"===f&&this.remove(g,m),g&&f==="change:"+g.idAttribute&&(delete this._byId[g.previous(g.idAttribute)],null!=g.id&&(this._byId[g.id]=g)),this.trigger.apply(this,arguments))},sortedIndex:function(f,g,h){g||(g=this.comparator);var m=i.isFunction(g)?g:function(n){return n.get(g)};return i.sortedIndex(this.models,f,m,h)}});i.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(f){X.prototype[f]=function(){var g=Y.call(arguments);g.unshift(this.models);return i[f].apply(i,g)}});i.each(["groupBy","countBy","sortBy"],function(f){X.prototype[f]=function(g,h){var m=i.isFunction(g)?g:function(n){return n.get(g)};return i[f](this.models,m,h)}});var ac=k.Router=function(f){f||(f={});f.routes&&(this.routes=f.routes);this._bindRoutes();this.initialize.apply(this,arguments)},e=/\((.*?)\)/g,j=/(\(\?)?:\w+/g,l=/\*\w+/g,p=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(ac.prototype,o,{initialize:function(){},route:function(f,g,h){i.isRegExp(f)||(f=this._routeToRegExp(f));h||(h=this[g]);k.history.route(f,i.bind(function(m){m=this._extractParameters(f,m);h&&h.apply(this,m);this.trigger.apply(this,["route:"+g].concat(m));this.trigger("route",g,m);k.history.trigger("route",this,g,m)},this));return this},navigate:function(f,g){k.history.navigate(f,g);return this},_bindRoutes:function(){if(this.routes){for(var f,g=i.keys(this.routes);null!=(f=g.pop());){this.route(f,this.routes[f])}}},_routeToRegExp:function(f){f=f.replace(p,"\\$&").replace(e,"(?:$1)?").replace(j,function(g,h){return h?g:"([^/]+)"}).replace(l,"(.*?)");return RegExp("^"+f+"$")},_extractParameters:function(f,g){return f.exec(g).slice(1)}});var R=k.History=function(){this.handlers=[];i.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},ad=/^[#\/]|\s+$/g,t=/^\/+|\/+$/g,O=/msie [\w.]+/,P=/\/$/;R.started=!1;i.extend(R.prototype,o,{interval:50,getHash:function(f){return(f=(f||this).location.href.match(/#(.*)$/))?f[1]:""},getFragment:function(f,g){if(null==f){if(this._hasPushState||!this._wantsHashChange||g){f=this.location.pathname;var h=this.root.replace(P,"");f.indexOf(h)||(f=f.substr(h.length))}else{f=this.getHash()}}return f.replace(ad,"")},start:function(f){if(R.started){throw Error("Backbone.history has already been started")}R.started=!0;this.options=i.extend({},{root:"/"},this.options,f);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!this.history||!this.history.pushState);f=this.getFragment();var g=document.documentMode,g=O.exec(navigator.userAgent.toLowerCase())&&(!g||7>=g);this.root=("/"+this.root+"/").replace(t,"/");g&&this._wantsHashChange&&(this.iframe=k.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(f));if(this._hasPushState){k.$(window).on("popstate",this.checkUrl)}else{if(this._wantsHashChange&&"onhashchange" in window&&!g){k.$(window).on("hashchange",this.checkUrl)}else{this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval))}}this.fragment=f;f=this.location;g=f.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!g){return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0}this._wantsPushState&&(this._hasPushState&&g&&f.hash)&&(this.fragment=this.getHash().replace(ad,""),this.history.replaceState({},document.title,this.root+this.fragment+f.search));if(!this.options.silent){return this.loadUrl()}},stop:function(){k.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);R.started=!1},route:function(f,g){this.handlers.unshift({route:f,callback:g})},checkUrl:function(){var f=this.getFragment();f===this.fragment&&this.iframe&&(f=this.getFragment(this.getHash(this.iframe)));if(f===this.fragment){return !1}this.iframe&&this.navigate(f);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(f){var g=this.fragment=this.getFragment(f);return i.any(this.handlers,function(h){if(h.route.test(g)){return h.callback(g),!0}})},navigate:function(f,g){if(!R.started){return !1}if(!g||!0===g){g={trigger:g}}f=this.getFragment(f||"");if(this.fragment!==f){this.fragment=f;var h=this.root+f;if(this._hasPushState){this.history[g.replace?"replaceState":"pushState"]({},document.title,h)}else{if(this._wantsHashChange){this._updateHash(this.location,f,g.replace),this.iframe&&f!==this.getFragment(this.getHash(this.iframe))&&(g.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,f,g.replace))}else{return this.location.assign(h)}}g.trigger&&this.loadUrl(f)}},_updateHash:function(f,g,h){h?(h=f.href.replace(/(javascript:|#).*$/,""),f.replace(h+"#"+g)):f.hash="#"+g}});k.history=new R;var a=k.View=function(f){this.cid=i.uniqueId("view");this._configure(f||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},Q=/^(\S+)\s*(.*)$/,S="model collection el id attributes className tagName events".split(" ");i.extend(a.prototype,o,{tagName:"div",$:function(f){return this.$el.find(f)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(f,g){this.$el&&this.undelegateEvents();this.$el=f instanceof k.$?f:k.$(f);this.el=this.$el[0];!1!==g&&this.delegateEvents();return this},delegateEvents:function(f){if(f||(f=i.result(this,"events"))){this.undelegateEvents();for(var g in f){var h=f[g];i.isFunction(h)||(h=this[f[g]]);if(!h){throw Error('Method "'+f[g]+'" does not exist')}var m=g.match(Q),n=m[1],m=m[2],h=i.bind(h,this),n=n+(".delegateEvents"+this.cid);if(""===m){this.$el.on(n,h)}else{this.$el.on(n,m,h)}}}},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid)},_configure:function(f){this.options&&(f=i.extend({},i.result(this,"options"),f));i.extend(this,i.pick(f,S));this.options=f},_ensureElement:function(){if(this.el){this.setElement(i.result(this,"el"),!1)}else{var f=i.extend({},i.result(this,"attributes"));this.id&&(f.id=i.result(this,"id"));this.className&&(f["class"]=i.result(this,"className"));f=k.$("<"+i.result(this,"tagName")+">").attr(f);this.setElement(f,!1)}}});var U={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};k.sync=function(f,g,n){var q=U[f];i.defaults(n||(n={}),{emulateHTTP:k.emulateHTTP,emulateJSON:k.emulateJSON});var r={type:q,dataType:"json"};n.url||(r.url=i.result(g,"url")||ab());if(null==n.data&&g&&("create"===f||"update"===f||"patch"===f)){r.contentType="application/json",r.data=JSON.stringify(n.attrs||g.toJSON(n))}n.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{});if(n.emulateHTTP&&("PUT"===q||"DELETE"===q||"PATCH"===q)){r.type="POST";n.emulateJSON&&(r.data._method=q);var s=n.beforeSend;n.beforeSend=function(h){h.setRequestHeader("X-HTTP-Method-Override",q);if(s){return s.apply(this,arguments)}}}"GET"!==r.type&&!n.emulateJSON&&(r.processData=!1);var v=n.success;n.success=function(h){v&&v(g,h,n);g.trigger("sync",g,h,n)};var u=n.error;n.error=function(h){u&&u(g,h,n);g.trigger("error",g,h,n)};f=n.xhr=k.ajax(i.extend(r,n));g.trigger("request",g,f,n);return f};k.ajax=function(){return k.$.ajax.apply(k.$,arguments)};W.extend=X.extend=ac.extend=a.extend=R.extend=function(f,g){var h=this,m;m=f&&i.has(f,"constructor")?f.constructor:function(){return h.apply(this,arguments)};i.extend(m,h,g);var n=function(){this.constructor=m};n.prototype=h.prototype;m.prototype=new n;f&&i.extend(m.prototype,f);m.__super__=h.prototype;return m};var ab=function(){throw Error('A "url" property or function must be specified')}}).call(this);(function(b,a){if(typeof define==="function"&&define.amd){define([],a)}else{if(typeof exports==="object"){module.exports=a()}else{a()}}}(this,function(){var c="";var j=20;var k=true;var o=[];var h=false;var m=true;var n=true;var e=null;var v=true;var t=true;var a=null;var s=true;var r=false;var w=true;var i="en";var l=true;var b=false;var p=null;var q=false;function g(C){if(a===null){var D=C.length;var B=0;var z=document.getElementById(c);var A="<ul>";while(B<D){A+="<li>"+C[B]+"</li>";B++}A+="</ul>";z.innerHTML=A}else{a(C)}}function u(z){return z.replace(/<b[^>]*>(.*?)<\/b>/gi,function(A,B){return B}).replace(/class="(?!(tco-hidden|tco-display|tco-ellipsis))+.*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,"")}function x(z){var B=z.getElementsByTagName("a");for(var A=B.length-1;A>=0;A--){B[A].setAttribute("target","_blank")}}function f(E,A){var z=[];var F=new RegExp("(^| )"+A+"( |$)");var B=E.getElementsByTagName("*");for(var C=0,D=B.length;C<D;C++){if(F.test(B[C].className)){z.push(B[C])}}return z}function d(A){if(A!==undefined&&A.innerHTML.indexOf("data-srcset")>=0){var z=A.innerHTML.match(/data-srcset="([A-z0-9%_\.-]+)/i)[0];return decodeURIComponent(z).split('"')[1]}}var y={fetch:function(z){if(z.maxTweets===undefined){z.maxTweets=20}if(z.enableLinks===undefined){z.enableLinks=true}if(z.showUser===undefined){z.showUser=true}if(z.showTime===undefined){z.showTime=true}if(z.dateFunction===undefined){z.dateFunction="default"}if(z.showRetweet===undefined){z.showRetweet=true}if(z.customCallback===undefined){z.customCallback=null}if(z.showInteraction===undefined){z.showInteraction=true}if(z.showImages===undefined){z.showImages=false}if(z.linksInNewWindow===undefined){z.linksInNewWindow=true}if(z.showPermalinks===undefined){z.showPermalinks=true}if(z.dataOnly===undefined){z.dataOnly=false}if(h){o.push(z)}else{h=true;c=z.domId;j=z.maxTweets;k=z.enableLinks;n=z.showUser;m=z.showTime;t=z.showRetweet;e=z.dateFunction;a=z.customCallback;s=z.showInteraction;r=z.showImages;w=z.linksInNewWindow;l=z.showPermalinks;b=z.dataOnly;var A=document.getElementsByTagName("head")[0];if(p!==null){A.removeChild(p)}p=document.createElement("script");p.type="text/javascript";if(z.list!==undefined){p.src="https://syndication.twitter.com/timeline/list?callback=__twttrf.callback&dnt=false&list_slug="+z.list.listSlug+"&screen_name="+z.list.screenName+"&suppress_response_codes=true&lang="+(z.lang||i)+"&rnd="+Math.random()}else{if(z.profile!==undefined){p.src="https://syndication.twitter.com/timeline/profile?callback=__twttrf.callback&dnt=false&screen_name="+z.profile.screenName+"&suppress_response_codes=true&lang="+(z.lang||i)+"&rnd="+Math.random()}else{if(z.likes!==undefined){p.src="https://syndication.twitter.com/timeline/likes?callback=__twttrf.callback&dnt=false&screen_name="+z.likes.screenName+"&suppress_response_codes=true&lang="+(z.lang||i)+"&rnd="+Math.random()}else{p.src="https://cdn.syndication.twimg.com/widgets/timelines/"+z.id+"?&lang="+(z.lang||i)+"&callback=__twttrf.callback&suppress_response_codes=true&rnd="+Math.random()}}}A.appendChild(p)}},callback:function(B){if(B===undefined||B.body===undefined){h=false;if(o.length>0){y.fetch(o[0]);o.splice(0,1)}return}B.body=B.body.replace(/(<img[^c]*class="Emoji[^>]*>)|(<img[^c]*class="u-block[^>]*>)/g,"");if(!r){B.body=B.body.replace(/(<img[^c]*class="NaturalImage-image[^>]*>|(<img[^c]*class="CroppedImage-image[^>]*>))/g,"")}if(!n){B.body=B.body.replace(/(<img[^c]*class="Avatar"[^>]*>)/g,"")}var E=document.createElement("div");E.innerHTML=B.body;if(typeof(E.getElementsByClassName)==="undefined"){v=false}function M(U){var T=U.getElementsByTagName("img")[0];T.src=T.getAttribute("data-src-2x");return U}var R=[];var A=[];var P=[];var G=[];var L=[];var O=[];var K=[];var S=0;if(v){var Q=E.getElementsByClassName("timeline-Tweet");while(S<Q.length){if(Q[S].getElementsByClassName("timeline-Tweet-retweetCredit").length>0){L.push(true)}else{L.push(false)}if(!L[S]||L[S]&&t){R.push(Q[S].getElementsByClassName("timeline-Tweet-text")[0]);O.push(Q[S].getAttribute("data-tweet-id"));if(n){A.push(M(Q[S].getElementsByClassName("timeline-Tweet-author")[0]))}P.push(Q[S].getElementsByClassName("dt-updated")[0]);K.push(Q[S].getElementsByClassName("timeline-Tweet-timestamp")[0]);if(Q[S].getElementsByClassName("timeline-Tweet-media")[0]!==undefined){G.push(Q[S].getElementsByClassName("timeline-Tweet-media")[0])}else{G.push(undefined)}}S++}}else{var Q=f(E,"timeline-Tweet");while(S<Q.length){if(f(Q[S],"timeline-Tweet-retweetCredit").length>0){L.push(true)}else{L.push(false)}if(!L[S]||L[S]&&t){R.push(f(Q[S],"timeline-Tweet-text")[0]);O.push(Q[S].getAttribute("data-tweet-id"));if(n){A.push(M(f(Q[S],"timeline-Tweet-author")[0]))}P.push(f(Q[S],"dt-updated")[0]);K.push(f(Q[S],"timeline-Tweet-timestamp")[0]);if(f(Q[S],"timeline-Tweet-media")[0]!==undefined){G.push(f(Q[S],"timeline-Tweet-media")[0])}else{G.push(undefined)}}S++}}if(R.length>j){R.splice(j,(R.length-j));A.splice(j,(A.length-j));P.splice(j,(P.length-j));L.splice(j,(L.length-j));G.splice(j,(G.length-j));K.splice(j,(K.length-j))}var z=[];var S=R.length;var H=0;if(b){while(H<S){z.push({tweet:R[H].innerHTML,author:A[H]?A[H].innerHTML:"Unknown Author",time:P[H].textContent,timestamp:P[H].getAttribute("datetime").replace("+0000","Z").replace(/([\+\-])(\d\d)(\d\d)/,"$1$2:$3"),image:d(G[H]),rt:L[H],tid:O[H],permalinkURL:(K[H]===undefined)?"":K[H].href});H++}}else{while(H<S){if(typeof(e)!=="string"){var D=P[H].getAttribute("datetime");var I=new Date(P[H].getAttribute("datetime").replace(/-/g,"/").replace("T"," ").split("+")[0]);var C=e(I,D);P[H].setAttribute("aria-label",C);if(R[H].textContent){if(v){P[H].textContent=C}else{var F=document.createElement("p");var N=document.createTextNode(C);F.appendChild(N);F.setAttribute("aria-label",C);P[H]=F}}else{P[H].textContent=C}}var J="";if(k){if(w){x(R[H]);if(n){x(A[H])}}if(n){J+='<div class="user">'+u(A[H].innerHTML)+"</div>"}J+='<p class="tweet">'+u(R[H].innerHTML)+"</p>";if(m){if(l){J+='<p class="timePosted"><a href="'+K[H]+'">'+P[H].getAttribute("aria-label")+"</a></p>"}else{J+='<p class="timePosted">'+P[H].getAttribute("aria-label")+"</p>"}}}else{if(R[H].textContent){if(n){J+='<p class="user">'+A[H].textContent+"</p>"}J+='<p class="tweet">'+R[H].textContent+"</p>";if(m){J+='<p class="timePosted">'+P[H].textContent+"</p>"}}else{if(n){J+='<p class="user">'+A[H].textContent+"</p>"}J+='<p class="tweet">'+R[H].textContent+"</p>";if(m){J+='<p class="timePosted">'+P[H].textContent+"</p>"}}}if(s){J+='<p class="interact"><a href="https://twitter.com/intent/tweet?in_reply_to='+O[H]+'" class="twitter_reply_icon"'+(w?' target="_blank">':">")+'Reply</a><a href="https://twitter.com/intent/retweet?tweet_id='+O[H]+'" class="twitter_retweet_icon"'+(w?' target="_blank">':">")+'Retweet</a><a href="https://twitter.com/intent/favorite?tweet_id='+O[H]+'" class="twitter_fav_icon"'+(w?' target="_blank">':">")+"Favorite</a></p>"}if(r&&G[H]!==undefined&&d(G[H])!==undefined){J+='<div class="media"><img src="'+d(G[H])+'" alt="Image from tweet" /></div>'}if(r){z.push(J)}else{if(!r&&R[H].textContent.length){z.push(J)}}H++}}g(z);h=false;if(o.length>0){y.fetch(o[0]);o.splice(0,1)}}};window.__twttrf=y;window.twitterFetcher=y;return y}));var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());
/*
* FitVids 1.0.3
*
* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
* Date: Thu Sept 01 18:00:00 2011 -0500
*/
(function(a){a.fn.fitVids=function(b){var c={customSelector:null};if(b){a.extend(c,b)}return this.each(function(){var e=["iframe:not([src*='soundcloud.com'])","object","embed"];if(c.customSelector){e.push(c.customSelector)}var d=a(this).find(e.join(","));d=d.not("object object");d.each(function(){var f=a(this);if(this.tagName.toLowerCase()==="embed"&&f.parent("object").length||f.parent(".fluid-width-video-wrapper").length){return}var h=(this.tagName.toLowerCase()==="object"||(f.attr("height")&&!isNaN(parseInt(f.attr("height"),10))))?parseInt(f.attr("height"),10):f.height(),j=!isNaN(parseInt(f.attr("width"),10))?parseInt(f.attr("width"),10):f.width(),g=h/j;if(!f.attr("id")){var i="fitvid"+Math.floor(Math.random()*999999);f.attr("id",i)}f.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",(g*100)+"%");if(!f.hasClass("highlight")&&!a(document.body).hasClass("template-index")){f.parent(".fluid-width-video-wrapper").wrap('<div class="max-width-video-wrapper"></div>').parent(".max-width-video-wrapper").css({maxWidth:640,marginLeft:"auto",marginRight:"auto"})}f.removeAttr("height").removeAttr("width")})})}})(window.jQuery||window.Zepto);
/*
 * imagesLoaded PACKAGED v3.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(){function a(){}function g(h,j){for(var i=h.length;i--;){if(h[i].listener===j){return i}}return -1}function c(h){return function(){return this[h].apply(this,arguments)}}var b=a.prototype,f=this,d=f.EventEmitter;b.getListeners=function(h){var l,k,j=this._getEvents();if("object"==typeof h){l={};for(k in j){j.hasOwnProperty(k)&&h.test(k)&&(l[k]=j[k])}}else{l=j[h]||(j[h]=[])}return l},b.flattenListeners=function(h){var j,i=[];for(j=0;h.length>j;j+=1){i.push(h[j].listener)}return i},b.getListenersAsObject=function(h){var j,i=this.getListeners(h);return i instanceof Array&&(j={},j[h]=i),j||i},b.addListener=function(h,k){var j,m=this.getListenersAsObject(h),l="object"==typeof k;for(j in m){m.hasOwnProperty(j)&&-1===g(m[j],k)&&m[j].push(l?k:{listener:k,once:!1})}return this},b.on=c("addListener"),b.addOnceListener=function(h,i){return this.addListener(h,{listener:i,once:!0})},b.once=c("addOnceListener"),b.defineEvent=function(h){return this.getListeners(h),this},b.defineEvents=function(h){for(var i=0;h.length>i;i+=1){this.defineEvent(h[i])}return this},b.removeListener=function(h,k){var j,m,l=this.getListenersAsObject(h);for(m in l){l.hasOwnProperty(m)&&(j=g(l[m],k),-1!==j&&l[m].splice(j,1))}return this},b.off=c("removeListener"),b.addListeners=function(h,i){return this.manipulateListeners(!1,h,i)},b.removeListeners=function(h,i){return this.manipulateListeners(!0,h,i)},b.manipulateListeners=function(h,q,k){var j,m,l=h?this.removeListener:this.addListener,p=h?this.removeListeners:this.addListeners;if("object"!=typeof q||q instanceof RegExp){for(j=k.length;j--;){l.call(this,q,k[j])}}else{for(j in q){q.hasOwnProperty(j)&&(m=q[j])&&("function"==typeof m?l.call(this,j,m):p.call(this,j,m))}}return this},b.removeEvent=function(h){var l,k=typeof h,j=this._getEvents();if("string"===k){delete j[h]}else{if("object"===k){for(l in j){j.hasOwnProperty(l)&&h.test(l)&&delete j[l]}}else{delete this._events}}return this},b.removeAllListeners=c("removeEvent"),b.emitEvent=function(h,q){var k,j,m,l,p=this.getListenersAsObject(h);for(m in p){if(p.hasOwnProperty(m)){for(j=p[m].length;j--;){k=p[m][j],k.once===!0&&this.removeListener(h,k.listener),l=k.listener.apply(this,q||[]),l===this._getOnceReturnValue()&&this.removeListener(h,k.listener)}}}return this},b.trigger=c("emitEvent"),b.emit=function(h){var i=Array.prototype.slice.call(arguments,1);return this.emitEvent(h,i)},b.setOnceReturnValue=function(h){return this._onceReturnValue=h,this},b._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},b._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return f.EventEmitter=d,a},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:this.EventEmitter=a}).call(this),function(a){function g(h){var e=a.event;return e.target=e.target||e.srcElement||h,e}var c=document.documentElement,b=function(){};c.addEventListener?b=function(h,j,i){h.addEventListener(j,i,!1)}:c.attachEvent&&(b=function(h,k,j){h[k+j]=j.handleEvent?function(){var e=g(h);j.handleEvent.call(j,e)}:function(){var e=g(h);j.call(h,e)},h.attachEvent("on"+k,h[k+j])});var f=function(){};c.removeEventListener?f=function(h,j,i){h.removeEventListener(j,i,!1)}:c.detachEvent&&(f=function(h,l,k){h.detachEvent("on"+l,h[l+k]);try{delete h[l+k]}catch(j){h[l+k]=void 0}});var d={bind:b,unbind:f};"function"==typeof define&&define.amd?define("eventie/eventie",d):a.eventie=d}(this),function(a,b){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(d,c){return b(a,d,c)}):"object"==typeof exports?module.exports=b(a,require("eventEmitter"),require("eventie")):a.imagesLoaded=b(a,a.EventEmitter,a.eventie)}(this,function(k,z,q){function p(a,d){for(var c in d){a[c]=d[c]}return a}function x(a){return"[object Array]"===j.call(a)}function w(a){var f=[];if(x(a)){f=a}else{if("number"==typeof a.length){for(var d=0,c=a.length;c>d;d++){f.push(a[d])}}else{f.push(a)}}return f}function y(a,f,c){if(!(this instanceof y)){return new y(a,f)}"string"==typeof a&&(a=document.querySelectorAll(a)),this.elements=w(a),this.options=p({},this.options),"function"==typeof f?c=f:p(this.options,f),c&&this.on("always",c),this.getImages(),b&&(this.jqDeferred=new b.Deferred);var d=this;setTimeout(function(){d.check()})}function g(a){this.img=a}function l(a){this.src=a,B[a]=this}var b=k.jQuery,A=k.console,m=A!==void 0,j=Object.prototype.toString;y.prototype=new z,y.prototype.options={},y.prototype.getImages=function(){this.images=[];for(var a=0,v=this.elements.length;v>a;a++){var d=this.elements[a];"IMG"===d.nodeName&&this.addImage(d);for(var c=d.querySelectorAll("img"),h=0,f=c.length;f>h;h++){var u=c[h];this.addImage(u)}}},y.prototype.addImage=function(a){var c=new g(a);this.images.push(c)},y.prototype.check=function(){function a(i,n){return s.options.debug&&m&&A.log("confirm",i,n),s.progress(i),d++,d===c&&s.complete(),!0}var s=this,d=0,c=this.images.length;if(this.hasAnyBroken=!1,!c){return this.complete(),void 0}for(var h=0;c>h;h++){var f=this.images[h];f.on("confirm",a),f.check()}},y.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var c=this;setTimeout(function(){c.emit("progress",c,a),c.jqDeferred&&c.jqDeferred.notify&&c.jqDeferred.notify(c,a)})},y.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var c=this;setTimeout(function(){if(c.emit(a,c),c.emit("always",c),c.jqDeferred){var d=c.hasAnyBroken?"reject":"resolve";c.jqDeferred[d](c)}})},b&&(b.fn.imagesLoaded=function(a,d){var c=new y(this,a,d);return c.jqDeferred.promise(b(this))}),g.prototype=new z,g.prototype.check=function(){var a=B[this.img.src]||new l(this.img.src);if(a.isConfirmed){return this.confirm(a.isLoaded,"cached was confirmed"),void 0}if(this.img.complete&&void 0!==this.img.naturalWidth){return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0}var c=this;a.on("confirm",function(d,f){return c.confirm(d.isLoaded,f),!0}),a.check()},g.prototype.confirm=function(a,c){this.isLoaded=a,this.emit("confirm",this,c)};var B={};return l.prototype=new z,l.prototype.check=function(){if(!this.isChecked){var a=new Image;q.bind(a,"load",this),q.bind(a,"error",this),a.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(a){var c="on"+a.type;this[c]&&this[c](a)},l.prototype.onload=function(a){this.confirm(!0,"onload"),this.unbindProxyEvents(a)},l.prototype.onerror=function(a){this.confirm(!1,"onerror"),this.unbindProxyEvents(a)},l.prototype.confirm=function(a,c){this.isConfirmed=!0,this.isLoaded=a,this.emit("confirm",this,c)},l.prototype.unbindProxyEvents=function(a){q.unbind(a.target,"load",this),q.unbind(a.target,"error",this)},y});
/* Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version 1.2.3
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(a){a.fn.overlaps=function(e){return this.pushStack(c(this,e&&a(e)))};function c(e,f){var g=d(e),h=!f?g:d(f),m=[],i=0,j=0,k=g.length,l=!f?g.length:h.length;if(!f){f=e}for(;i<k;i++){for(j=0;j<l;j++){if(e[i]===f[j]){continue}else{if(b(g[i],h[j])){m.push((k>l)?e[i]:f[j])}}}}return a.unique(m)}function d(g){var e=[],h=0,j,f;while((f=g[h++])){j=a(f).offset();e.push([j.top,j.left,f.offsetWidth,f.offsetHeight])}return e}function b(e,f){var k=e[1],m=e[0],i=e[2],g=e[3],l=f[1],n=f[0],j=f[2],h=f[3];return !(n+h<=m||m+g<=n||l+j<=k||k+i<=l)}}));
/*
* Mobile Table
*
* Copyright 2013, Gray Gilmore - http://blog.graygilmore.com
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
*/
(function(a){a.fn.mobileTable=function(b){var c={breakpoint:720};if(b){a.extend(c,b)}return this.each(function(){var d=a(this);if(window.innerWidth<c.breakpoint){if(d.hasClass("titles-ready")){d.addClass("mobile-layout");return}d.addClass("mobile-layout titles-ready");d.find("thead th").each(function(f){var e=a(this).text();d.find("tr td:nth-child("+(f+1)+")").prepend('<span class="column-title">'+e+"</span>")})}else{d.removeClass("mobile-layout")}})}})(jQuery);if(typeof Object.create!=="function"){Object.create=function(b){function a(){}a.prototype=b;return new a()}}(function(a,l,e){var i=function i(n){var p=e.createElement("script");var o=e.getElementsByTagName("head")[0];p.src="https://www.youtube.com/iframe_api";o.appendChild(p);o=null;p=null;g(n)},g=function g(n){if(typeof YT==="undefined"&&typeof l.loadingPlayer==="undefined"){l.loadingPlayer=true;l.dfd=a.Deferred();l.onYouTubeIframeAPIReady=function(){l.onYouTubeIframeAPIReady=null;l.dfd.resolve("done");n()}}else{if(typeof YT==="object"){n()}else{l.dfd.done(function(o){n()})}}};var m={player:null,defaults:{ratio:16/9,videoId:"LSmgKRx5pBo",mute:true,repeat:true,width:a(l).width(),playButtonClass:"YTPlayer-play",pauseButtonClass:"YTPlayer-pause",muteButtonClass:"YTPlayer-mute",volumeUpClass:"YTPlayer-volume-up",volumeDownClass:"YTPlayer-volume-down",start:0,fitToBackground:true,playerVars:{iv_load_policy:3,modestbranding:1,autoplay:1,controls:0,showinfo:0,wmode:"opaque",branding:0,autohide:0,},events:null,},init:function h(n,p){var o=this;o.userOptions=p;o.$body=a("body"),o.$node=a(n),o.$window=a(l);o.defaults.events={onReady:function(q){o.onPlayerReady(q);if(typeof o.options.callback=="function"){o.options.callback.call(this)}},onStateChange:function(q){if(q.data===1){o.$node.find("img").fadeOut(400);o.$node.addClass("loaded")}else{if(q.data===0&&o.options.repeat){o.player.seekTo(o.options.start)}}}};o.options=a.extend(true,{},o.defaults,o.userOptions);o.options.height=Math.ceil(o.options.width/o.options.ratio);o.ID=(new Date()).getTime();o.holderID="YTPlayer-ID-"+o.ID;if(o.options.fitToBackground){o.createBackgroundVideo()}else{o.createContainerVideo()}i(o.onYouTubeIframeAPIReady.bind(o));return o},createContainerVideo:function c(){var o=this;var n=a('<div id="ytplayer-container'+o.ID+'" >                                    <div id="'+o.holderID+'" class="ytplayer-player-inline"></div>                                     </div>                                     <div id="ytplayer-shield" class="ytplayer-shield"></div>');o.$node.append(n);o.$YTPlayerString=n;n=null},createBackgroundVideo:function b(){var p=this,o='<div id="ytplayer-container'+p.ID+'" class="ytplayer-container background"><div id="'+p.holderID+'" class="ytplayer-player"></div></div><div id="ytplayer-shield" class="ytplayer-shield"></div>',n=a(o);p.$node.append(n);p.$YTPlayerString=n;n=null},onYouTubeIframeAPIReady:function k(){var n=this;n.player=new l.YT.Player(n.holderID,n.options)},onPlayerReady:function j(n){if(this.options.mute){n.target.mute()}n.target.playVideo()},getPlayer:function f(){return this.player},destroy:function d(){var n=this;n.$node.removeData("yt-init").removeData("ytPlayer").removeClass("loaded");n.$YTPlayerString.remove();n.$body=null;n.$node=null;n.$YTPlayerString=null;n.player.destroy();n.player=null}};k:function k(){var n=this;n.player=new l.YT.Player(n.holderID,n.options)}a.fn.YTPlayer=function(n){return this.each(function(){var o=this;a(o).data("yt-init",true);var p=Object.create(m);p.init(o,n);a.data(o,"ytPlayer",p)})}})(jQuery,window,document);$(document).ready(function(){$(function(){if($(".home-kickstarter").length>0){$(".kickstarter__graphic.pie").html('<canvas id="kickstarter__pie--help" width="110" height="110"></canvas><canvas id="kickstarter__pie" width="110" height="110"></canvas>');var m=0,k=null,l=Math.min(parseInt($(".kickstarter__graphic").data("value"))/100,1),j="#fa8c01",h=document.getElementById("kickstarter__pie"),f=h.getContext("2d"),b=h.width/2,d=h.height/2,n=45,m=0;f.lineWidth=15;f.strokeStyle=j;f.lineCap="round";k=setInterval(function(){m=m+0.0025;f.clearRect(0,0,h.width,h.height);f.beginPath();f.arc(b,d,n,0,(2*m)*Math.PI,false);f.stroke();if(m>=l){clearInterval(k)}},5);var i=document.getElementById("kickstarter__pie--help"),g=i.getContext("2d"),c=i.width/2,e=i.height/2,o=45;g.lineWidth=15;g.strokeStyle="#e9e9e9";g.lineCap="round";g.beginPath();g.arc(c,e,o,0,2*Math.PI,false);g.stroke();var a=Math.min(parseInt($(".kickstarter__graphic.bar").data("value")),100);$(".kickstarter__graphic.bar").append('<div class="value"></div>');$(".kickstarter__graphic.bar .value").css("width",a+"%")}})});
/*
 * Flickity PACKAGED v1.2.1
 * Touch, responsive, flickable galleries
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * http://flickity.metafizzy.co
 * Copyright 2015 Metafizzy
 */
!function(d){function a(){}function b(h){function e(i){i.prototype.option||(i.prototype.option=function(j){h.isPlainObject(j)&&(this.options=h.extend(!0,this.options,j))})}function f(j,k){h.fn[j]=function(r){if("string"==typeof r){for(var u=c.call(arguments,1),i=0,q=this.length;q>i;i++){var n=this[i],m=h.data(n,j);if(m){if(h.isFunction(m[r])&&"_"!==r.charAt(0)){var t=m[r].apply(m,u);if(void 0!==t){return t}}else{g("no such method '"+r+"' for "+j+" instance")}}else{g("cannot call methods on "+j+" prior to initialization; attempted to call '"+r+"'")}}return this}return this.each(function(){var l=h.data(this,j);l?(l.option(r),l._init()):(l=new k(this,r),h.data(this,j,l))})}}if(h){var g="undefined"==typeof console?a:function(i){console.error(i)};return h.bridget=function(j,i){e(i),f(j,i)},h.bridget}}var c=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],b):b("object"==typeof exports?require("jquery"):d.jQuery)}(window),function(h){function a(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function b(l,j){var k=c(l,j)?f:d;k(l,j)}var c,d,f;"classList" in document.documentElement?(c=function(j,i){return j.classList.contains(i)},d=function(j,i){j.classList.add(i)},f=function(j,i){j.classList.remove(i)}):(c=function(j,e){return a(e).test(j.className)},d=function(j,i){c(j,i)||(j.className=j.className+" "+i)},f=function(j,e){j.className=j.className.replace(a(e)," ")});var g={hasClass:c,addClass:d,removeClass:f,toggleClass:b,has:c,add:d,remove:f,toggle:b};"function"==typeof define&&define.amd?define("classie/classie",g):"object"==typeof exports?module.exports=g:h.classie=g}(window),function(){function g(){}function a(k,h){for(var j=k.length;j--;){if(k[j].listener===h){return j}}return -1}function b(e){return function(){return this[e].apply(this,arguments)}}var c=g.prototype,d=this,f=d.EventEmitter;c.getListeners=function(l){var h,j,k=this._getEvents();if(l instanceof RegExp){h={};for(j in k){k.hasOwnProperty(j)&&l.test(j)&&(h[j]=k[j])}}else{h=k[l]||(k[l]=[])}return h},c.flattenListeners=function(k){var h,j=[];for(h=0;h<k.length;h+=1){j.push(k[h].listener)}return j},c.getListenersAsObject=function(k){var h,j=this.getListeners(k);return j instanceof Array&&(h={},h[k]=j),h||j},c.addListener=function(l,e){var h,j=this.getListenersAsObject(l),k="object"==typeof e;for(h in j){j.hasOwnProperty(h)&&-1===a(j[h],e)&&j[h].push(k?e:{listener:e,once:!1})}return this},c.on=b("addListener"),c.addOnceListener=function(i,h){return this.addListener(i,{listener:h,once:!0})},c.once=b("addOnceListener"),c.defineEvent=function(e){return this.getListeners(e),this},c.defineEvents=function(i){for(var h=0;h<i.length;h+=1){this.defineEvent(i[h])}return this},c.removeListener=function(l,e){var h,j,k=this.getListenersAsObject(l);for(j in k){k.hasOwnProperty(j)&&(h=a(k[j],e),-1!==h&&k[j].splice(h,1))}return this},c.off=b("removeListener"),c.addListeners=function(i,h){return this.manipulateListeners(!1,i,h)},c.removeListeners=function(i,h){return this.manipulateListeners(!0,i,h)},c.manipulateListeners=function(q,h,j){var k,l,m=q?this.removeListener:this.addListener,p=q?this.removeListeners:this.addListeners;if("object"!=typeof h||h instanceof RegExp){for(k=j.length;k--;){m.call(this,h,j[k])}}else{for(k in h){h.hasOwnProperty(k)&&(l=h[k])&&("function"==typeof l?m.call(this,k,l):p.call(this,k,l))}}return this},c.removeEvent=function(l){var h,j=typeof l,k=this._getEvents();if("string"===j){delete k[l]}else{if(l instanceof RegExp){for(h in k){k.hasOwnProperty(h)&&l.test(h)&&delete k[h]}}else{delete this._events}}return this},c.removeAllListeners=b("removeEvent"),c.emitEvent=function(q,h){var j,k,l,m,p=this.getListenersAsObject(q);for(l in p){if(p.hasOwnProperty(l)){for(k=p[l].length;k--;){j=p[l][k],j.once===!0&&this.removeListener(q,j.listener),m=j.listener.apply(this,h||[]),m===this._getOnceReturnValue()&&this.removeListener(q,j.listener)}}}return this},c.trigger=b("emitEvent"),c.emit=function(i){var h=Array.prototype.slice.call(arguments,1);return this.emitEvent(i,h)},c.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},c._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},c._getEvents=function(){return this._events||(this._events={})},g.noConflict=function(){return d.EventEmitter=f,g},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return g}):"object"==typeof module&&module.exports?module.exports=g:d.EventEmitter=g}.call(this),function(g){function a(h){var j=g.event;return j.target=j.target||j.srcElement||h,j}var b=document.documentElement,c=function(){};b.addEventListener?c=function(k,h,j){k.addEventListener(h,j,!1)}:b.attachEvent&&(c=function(j,e,h){j[e+h]=h.handleEvent?function(){var k=a(j);h.handleEvent.call(h,k)}:function(){var k=a(j);h.call(j,k)},j.attachEvent("on"+e,j[e+h])});var d=function(){};b.removeEventListener?d=function(k,h,j){k.removeEventListener(h,j,!1)}:b.detachEvent&&(d=function(l,h,j){l.detachEvent("on"+h,l[h+j]);try{delete l[h+j]}catch(k){l[h+j]=void 0}});var f={bind:c,unbind:d};"function"==typeof define&&define.amd?define("eventie/eventie",f):"object"==typeof exports?module.exports=f:g.eventie=f}(window),function(d){function a(i){if(i){if("string"==typeof c[i]){return i}i=i.charAt(0).toUpperCase()+i.slice(1);for(var f,g=0,h=b.length;h>g;g++){if(f=b[g]+i,"string"==typeof c[f]){return f}}}}var b="Webkit Moz ms Ms O".split(" "),c=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return a}):"object"==typeof exports?module.exports=a:d.getStyleProperty=a}(window),function(k,c){function d(m){var a=parseFloat(m),l=-1===m.indexOf("%")&&!isNaN(a);return l&&a}function f(){}function g(){for(var o={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},a=0,l=b.length;l>a;a++){var m=b[a];o[m]=0}return o}function h(m){function s(){if(!i){i=!0;var l=k.getComputedStyle;if(o=function(){var n=l?function(r){return l(r,null)}:function(r){return r.currentStyle};return function(r){var w=n(r);return w||j("Style returned "+w+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),w}}(),a=m("boxSizing")){var p=document.createElement("div");p.style.width="200px",p.style.padding="1px 2px 3px 4px",p.style.borderStyle="solid",p.style.borderWidth="1px 2px 3px 4px",p.style[a]="border-box";var v=document.body||document.documentElement;v.appendChild(p);var e=o(p);t=200===d(e.width),v.removeChild(p)}}}function u(K){if(s(),"string"==typeof K&&(K=document.querySelector(K)),K&&"object"==typeof K&&K.nodeType){var z=o(K);if("none"===z.display){return g()}var H={};H.width=K.offsetWidth,H.height=K.offsetHeight;for(var I=H.isBorderBox=!(!a||!z[a]||"border-box"!==z[a]),p=0,L=b.length;L>p;p++){var B=b[p],M=z[B];M=q(K,M);var Q=parseFloat(M);H[B]=isNaN(Q)?0:Q}var D=H.paddingLeft+H.paddingRight,F=H.paddingTop+H.paddingBottom,l=H.marginLeft+H.marginRight,O=H.marginTop+H.marginBottom,J=H.borderLeftWidth+H.borderRightWidth,n=H.borderTopWidth+H.borderBottomWidth,N=I&&t,A=d(z.width);A!==!1&&(H.width=A+(N?0:D+J));var G=d(z.height);return G!==!1&&(H.height=G+(N?0:F+n)),H.innerWidth=H.width-(D+J),H.innerHeight=H.height-(F+n),H.outerWidth=H.width+l,H.outerHeight=H.height+O,H}}function q(l,p){if(k.getComputedStyle||-1===p.indexOf("%")){return p}var v=l.style,w=v.left,x=l.runtimeStyle,y=x&&x.left;return y&&(x.left=l.currentStyle.left),v.left=p,p=v.pixelLeft,v.left=w,y&&(x.left=y),p}var o,a,t,i=!1;return u}var j="undefined"==typeof console?f:function(a){console.error(a)},b=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],h):"object"==typeof exports?module.exports=h(require("desandro-get-style-property")):k.getSize=h(k.getStyleProperty)}(window),function(h){function a(e){"function"==typeof e&&(a.isReady?e():g.push(e))}function b(j){var e="readystatechange"===j.type&&"complete"!==f.readyState;a.isReady||e||c()}function c(){a.isReady=!0;for(var k=0,e=g.length;e>k;k++){var j=g[k];j()}}function d(e){return"complete"===f.readyState?c():(e.bind(f,"DOMContentLoaded",b),e.bind(f,"readystatechange",b),e.bind(h,"load",b)),a}var f=h.document,g=[];a.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],d):"object"==typeof exports?module.exports=d(require("eventie")):h.docReady=d(h.eventie)}(window),function(m){function c(i,a){return i[k](a)}function d(i){if(!i.parentNode){var a=document.createDocumentFragment();a.appendChild(i)}}function g(q,a){d(q);for(var i=q.parentNode.querySelectorAll(a),l=0,p=i.length;p>l;l++){if(i[l]===q){return !0}}return !1}function h(e,a){return d(e),c(e,a)}var j,k=function(){if(m.matches){return"matches"}if(m.matchesSelector){return"matchesSelector"}for(var a=["webkit","moz","ms","o"],l=0,p=a.length;p>l;l++){var q=a[l],s=q+"MatchesSelector";if(m[s]){return s}}}();if(k){var b=document.createElement("div"),f=c(b,"div");j=f?c:h}else{j=g}"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return j}):"object"==typeof exports?module.exports=j:window.matchesSelector=j}(Element.prototype),function(b,a){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(c,d){return a(b,c,d)}):"object"==typeof exports?module.exports=a(b,require("doc-ready"),require("desandro-matches-selector")):b.fizzyUIUtils=a(b,b.docReady,b.matchesSelector)}(window,function(g,a,b){var c={};c.extend=function(k,h){for(var j in h){k[j]=h[j]}return k},c.modulo=function(i,h){return(i%h+h)%h};var d=Object.prototype.toString;c.isArray=function(e){return"[object Array]"==d.call(e)},c.makeArray=function(l){var h=[];if(c.isArray(l)){h=l}else{if(l&&"number"==typeof l.length){for(var j=0,k=l.length;k>j;j++){h.push(l[j])}}else{h.push(l)}}return h},c.indexOf=Array.prototype.indexOf?function(i,h){return i.indexOf(h)}:function(l,h){for(var j=0,k=l.length;k>j;j++){if(l[j]===h){return j}}return -1},c.removeFrom=function(k,h){var j=c.indexOf(k,h);-1!=j&&k.splice(j,1)},c.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1==e.nodeType&&"string"==typeof e.nodeName},c.setText=function(){function i(j,e){h=h||(void 0!==document.documentElement.textContent?"textContent":"innerText"),j[h]=e}var h;return i}(),c.getParent=function(i,h){for(;i!=document.body;){if(i=i.parentNode,b(i,h)){return i}}},c.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},c.handleEvent=function(i){var h="on"+i.type;this[h]&&this[h](i)},c.filterFindElements=function(v,k){v=c.makeArray(v);for(var p=[],q=0,u=v.length;u>q;q++){var i=v[q];if(c.isElement(i)){if(k){b(i,k)&&p.push(i);for(var n=i.querySelectorAll(k),m=0,j=n.length;j>m;m++){p.push(n[m])}}else{p.push(i)}}}return p},c.debounceMethod=function(m,h,j){var k=m.prototype[h],l=h+"Timeout";m.prototype[h]=function(){var o=this[l];o&&clearTimeout(o);var i=arguments,n=this;this[l]=setTimeout(function(){k.apply(n,i),delete n[l]},j||100)}},c.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(k,h,j){return h+"-"+j}).toLowerCase()};var f=g.console;return c.htmlInit=function(e,h){a(function(){for(var m=c.toDashed(h),t=document.querySelectorAll(".js-"+m),i="data-"+m+"-options",q=0,o=t.length;o>q;q++){var j,r=t[q],k=r.getAttribute(i);try{j=k&&JSON.parse(k)}catch(w){f&&f.error("Error parsing "+i+" on "+r.nodeName.toLowerCase()+(r.id?"#"+r.id:"")+": "+w);continue}var n=new e(r,j),x=g.jQuery;x&&x.data(r,h,n)}})},c}),function(b,a){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(c){return a(b,c)}):"object"==typeof exports?module.exports=a(b,require("get-size")):(b.Flickity=b.Flickity||{},b.Flickity.Cell=a(b,b.getSize))}(window,function(d,a){function b(g,f){this.element=g,this.parent=f,this.create()}var c="attachEvent" in d;return b.prototype.create=function(){this.element.style.position="absolute",c&&this.element.setAttribute("unselectable","on"),this.x=0,this.shift=0},b.prototype.destroy=function(){this.element.style.position="";var e=this.parent.originSide;this.element.style[e]=""},b.prototype.getSize=function(){this.size=a(this.element)},b.prototype.setPosition=function(e){this.x=e,this.setDefaultTarget(),this.renderPosition(e)},b.prototype.setDefaultTarget=function(){var e="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[e]+this.size.width*this.parent.cellAlign},b.prototype.renderPosition=function(g){var f=this.parent.originSide;this.element.style[f]=this.parent.getPositionValue(g)},b.prototype.wrapShift=function(e){this.shift=e,this.renderPosition(this.x+this.parent.slideableWidth*e)},b.prototype.remove=function(){this.element.parentNode.removeChild(this.element)},b}),function(b,a){"function"==typeof define&&define.amd?define("flickity/js/animate",["get-style-property/get-style-property","fizzy-ui-utils/utils"],function(c,d){return a(b,c,d)}):"object"==typeof exports?module.exports=a(b,require("desandro-get-style-property"),require("fizzy-ui-utils")):(b.Flickity=b.Flickity||{},b.Flickity.animatePrototype=a(b,b.getStyleProperty,b.fizzyUIUtils))}(window,function(x,f,j){for(var m,q=0,v="webkit moz ms o".split(" "),w=x.requestAnimationFrame,b=x.cancelAnimationFrame,k=0;k<v.length&&(!w||!b);k++){m=v[k],w=w||x[m+"RequestAnimationFrame"],b=b||x[m+"CancelAnimationFrame"]||x[m+"CancelRequestAnimationFrame"]}w&&b||(w=function(a){var c=(new Date).getTime(),h=Math.max(0,16-(c-q)),l=x.setTimeout(function(){a(c+h)},h);return q=c+h,l},b=function(a){x.clearTimeout(a)});var g={};g.startAnimation=function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},g.animate=function(){this.applyDragForce(),this.applySelectedAttraction();var c=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(c),this.isAnimating){var a=this;w(function(){a.animate()})}};var d=f("transform"),u=!!f("perspective");return g.positionSlider=function(){var c=this.x;this.options.wrapAround&&this.cells.length>1&&(c=j.modulo(c,this.slideableWidth),c-=this.slideableWidth,this.shiftWrapCells(c)),c+=this.cursorPosition,c=this.options.rightToLeft&&d?-c:c;var a=this.getPositionValue(c);d?this.slider.style[d]=u&&this.isAnimating?"translate3d("+a+",0,0)":"translateX("+a+")":this.slider.style[this.originSide]=a},g.positionSliderAtSelected=function(){if(this.cells.length){var a=this.cells[this.selectedIndex];this.x=-a.target,this.positionSlider()}},g.getPositionValue=function(a){return this.options.percentPosition?0.01*Math.round(a/this.size.innerWidth*10000)+"%":Math.round(a)+"px"},g.settle=function(a){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*a)||this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,u&&this.positionSlider(),this.dispatchEvent("settle"))},g.shiftWrapCells=function(h){var a=this.cursorPosition+h;this._shiftCells(this.beforeShiftCells,a,-1);var c=this.size.innerWidth-(h+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,c,1)},g._shiftCells=function(z,a,c){for(var h=0,l=z.length;l>h;h++){var p=z[h],y=a>0?c:0;p.wrapShift(y),a-=p.size.outerWidth}},g._unshiftCells=function(h){if(h&&h.length){for(var a=0,c=h.length;c>a;a++){h[a].wrapShift(0)}}},g.integratePhysics=function(){this.velocity+=this.accel,this.x+=this.velocity,this.velocity*=this.getFrictionFactor(),this.accel=0},g.applyForce=function(a){this.accel+=a},g.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},g.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor())},g.applyDragForce=function(){if(this.isPointerDown){var c=this.dragX-this.x,a=c-this.velocity;this.applyForce(a)}},g.applySelectedAttraction=function(){var p=this.cells.length;if(!this.isPointerDown&&!this.isFreeScrolling&&p){var a=this.cells[this.selectedIndex],c=this.options.wrapAround&&p>1?this.slideableWidth*Math.floor(this.selectedIndex/p):0,h=-1*(a.target+c)-this.x,l=h*this.options.selectedAttraction;this.applyForce(l)}},g}),function(c,a){if("function"==typeof define&&define.amd){define("flickity/js/flickity",["classie/classie","eventEmitter/EventEmitter","eventie/eventie","get-size/get-size","fizzy-ui-utils/utils","./cell","./animate"],function(e,g,h,j,k,d,f){return a(c,e,g,h,j,k,d,f)})}else{if("object"==typeof exports){module.exports=a(c,require("desandro-classie"),require("wolfy87-eventemitter"),require("eventie"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./animate"))}else{var b=c.Flickity;c.Flickity=a(c,c.classie,c.EventEmitter,c.eventie,c.getSize,c.fizzyUIUtils,b.Cell,b.animatePrototype)}}}(window,function(G,m,z,B,C,E,F,b){function A(c,a){for(c=E.makeArray(c);c.length;){a.appendChild(c.shift())}}function x(d,a){var c=E.getQueryElement(d);return c?(this.element=c,j&&(this.$element=j(this.element)),this.options=E.extend({},this.constructor.defaults),this.option(a),void this._create()):void (k&&k.error("Bad element for Flickity: "+(c||d)))}var j=G.jQuery,D=G.getComputedStyle,k=G.console,H=0,q={};x.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:0.075,friction:0.28,percentPosition:!0,resize:!0,selectedAttraction:0.025,setGallerySize:!0},x.createMethods=[],E.extend(x.prototype,z.prototype),x.prototype._create=function(){var a=this.guid=++H;this.element.flickityGUID=a,q[a]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.accel=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",x.setUnselectable(this.viewport),this._createSlider(),(this.options.resize||this.options.watchCSS)&&(B.bind(G,"resize",this),this.isResizeBound=!0);for(var c=0,d=x.createMethods.length;d>c;c++){var f=x.createMethods[c];this[f]()}this.options.watchCSS?this.watchCSS():this.activate()},x.prototype.option=function(a){E.extend(this.options,a)},x.prototype.activate=function(){if(!this.isActive){this.isActive=!0,m.add(this.element,"flickity-enabled"),this.options.rightToLeft&&m.add(this.element,"flickity-rtl"),this.getSize();var d=this._filterFindCellElements(this.element.children);A(d,this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,B.bind(this.element,"keydown",this)),this.emit("activate");var a,c=this.options.initialIndex;a=this.isInitActivated?this.selectedIndex:void 0!==c&&this.cells[c]?c:0,this.select(a,!1,!0),this.isInitActivated=!0}},x.prototype._createSlider=function(){var a=document.createElement("div");a.className="flickity-slider",a.style[this.originSide]=0,this.slider=a},x.prototype._filterFindCellElements=function(a){return E.filterFindElements(a,this.options.cellSelector)},x.prototype.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},x.prototype._makeCells=function(p){for(var d=this._filterFindCellElements(p),f=[],g=0,h=d.length;h>g;g++){var l=d[g],c=new F(l,this);f.push(c)}return f},x.prototype.getLastCell=function(){return this.cells[this.cells.length-1]},x.prototype.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},x.prototype._positionCells=function(h){h=h||0,this.maxCellHeight=h?this.maxCellHeight||0:0;var a=0;if(h>0){var c=this.cells[h-1];a=c.x+c.size.outerWidth}for(var d,f=this.cells.length,g=h;f>g;g++){d=this.cells[g],d.setPosition(a),a+=d.size.outerWidth,this.maxCellHeight=Math.max(d.size.outerHeight,this.maxCellHeight)}this.slideableWidth=a,this._containCells()},x.prototype._sizeCells=function(f){for(var a=0,c=f.length;c>a;a++){var d=f[a];d.getSize()}},x.prototype._init=x.prototype.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},x.prototype.getSize=function(){this.size=C(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var I={center:{left:0.5,right:0.5},left:{left:0,right:1},right:{right:0,left:1}};x.prototype.setCellAlign=function(){var a=I[this.options.cellAlign];this.cellAlign=a?a[this.originSide]:this.options.cellAlign},x.prototype.setGallerySize=function(){this.options.setGallerySize&&(this.viewport.style.height=this.maxCellHeight+"px")},x.prototype._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var c=this.cursorPosition,a=this.cells.length-1;this.beforeShiftCells=this._getGapCells(c,a,-1),c=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(c,0,1)}},x.prototype._getGapCells=function(g,a,c){for(var d=[];g>0;){var f=this.cells[a];if(!f){break}d.push(f),a+=c,g-=f.size.outerWidth}return d},x.prototype._containCells=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){for(var L=this.options.rightToLeft?"marginRight":"marginLeft",d=this.options.rightToLeft?"marginLeft":"marginRight",g=this.cells[0].size[L],u=this.getLastCell(),v=this.slideableWidth-u.size[d],y=v-this.size.innerWidth*(1-this.cellAlign),K=v<this.size.innerWidth,c=0,p=this.cells.length;p>c;c++){var f=this.cells[c];f.setDefaultTarget(),K?f.target=v*this.cellAlign:(f.target=Math.max(f.target,this.cursorPosition+g),f.target=Math.min(f.target,y))}}},x.prototype.dispatchEvent=function(g,a,c){var d=[a].concat(c);if(this.emitEvent(g,d),j&&this.$element){if(a){var f=j.Event(a);f.type=g,this.$element.trigger(f,c)}else{this.$element.trigger(g,c)}}},x.prototype.select=function(f,a,c){if(this.isActive){f=parseInt(f,10);var d=this.cells.length;this.options.wrapAround&&d>1&&(0>f?this.x-=this.slideableWidth:f>=d&&(this.x+=this.slideableWidth)),(this.options.wrapAround||a)&&(f=E.modulo(f,d)),this.cells[f]&&(this.selectedIndex=f,this.setSelectedCell(),c?this.positionSliderAtSelected():this.startAnimation(),this.dispatchEvent("cellSelect"))}},x.prototype.previous=function(a){this.select(this.selectedIndex-1,a)},x.prototype.next=function(a){this.select(this.selectedIndex+1,a)},x.prototype.setSelectedCell=function(){this._removeSelectedCellClass(),this.selectedCell=this.cells[this.selectedIndex],this.selectedElement=this.selectedCell.element,m.add(this.selectedElement,"is-selected")},x.prototype._removeSelectedCellClass=function(){this.selectedCell&&m.remove(this.selectedCell.element,"is-selected")},x.prototype.getCell=function(f){for(var a=0,c=this.cells.length;c>a;a++){var d=this.cells[a];if(d.element==f){return d}}},x.prototype.getCells=function(h){h=E.makeArray(h);for(var a=[],c=0,d=h.length;d>c;c++){var f=h[c],g=this.getCell(f);g&&a.push(g)}return a},x.prototype.getCellElements=function(){for(var d=[],a=0,c=this.cells.length;c>a;a++){d.push(this.cells[a].element)}return d},x.prototype.getParentCell=function(c){var a=this.getCell(c);return a?a:(c=E.getParent(c,".flickity-slider > *"),this.getCell(c))},x.prototype.getAdjacentCellElements=function(p,d){if(!p){return[this.selectedElement]}d=void 0===d?this.selectedIndex:d;var f=this.cells.length;if(1+2*p>=f){return this.getCellElements()}for(var g=[],h=d-p;d+p>=h;h++){var l=this.options.wrapAround?E.modulo(h,f):h,c=this.cells[l];c&&g.push(c.element)}return g},x.prototype.uiChange=function(){this.emit("uiChange")},x.prototype.childUIPointerDown=function(a){this.emitEvent("childUIPointerDown",[a])},x.prototype.onresize=function(){this.watchCSS(),this.resize()},E.debounceMethod(x,"onresize",150),x.prototype.resize=function(){this.isActive&&(this.getSize(),this.options.wrapAround&&(this.x=E.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.positionSliderAtSelected())};var J=x.supportsConditionalCSS=function(){var a;return function(){if(void 0!==a){return a}if(!D){return void (a=!1)}var c=document.createElement("style"),d=document.createTextNode('body:after { content: "foo"; display: none; }');c.appendChild(d),document.head.appendChild(c);var f=D(document.body,":after").content;return a=-1!=f.indexOf("foo"),document.head.removeChild(c),a}}();x.prototype.watchCSS=function(){var f=this.options.watchCSS;if(f){var a=J();if(!a){var c="fallbackOn"==f?"activate":"deactivate";return void this[c]()}var d=D(this.element,":after").content;-1!=d.indexOf("flickity")?this.activate():this.deactivate()}},x.prototype.onkeydown=function(d){if(this.options.accessibility&&(!document.activeElement||document.activeElement==this.element)){if(37==d.keyCode){var a=this.options.rightToLeft?"next":"previous";this.uiChange(),this[a]()}else{if(39==d.keyCode){var c=this.options.rightToLeft?"previous":"next";this.uiChange(),this[c]()}}}},x.prototype.deactivate=function(){if(this.isActive){m.remove(this.element,"flickity-enabled"),m.remove(this.element,"flickity-rtl");for(var d=0,a=this.cells.length;a>d;d++){var c=this.cells[d];c.destroy()}this._removeSelectedCellClass(),this.element.removeChild(this.viewport),A(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),B.unbind(this.element,"keydown",this)),this.isActive=!1,this.emit("deactivate")}},x.prototype.destroy=function(){this.deactivate(),this.isResizeBound&&B.unbind(G,"resize",this),this.emit("destroy"),j&&this.$element&&j.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete q[this.guid]},E.extend(x.prototype,b);var w="attachEvent" in G;return x.setUnselectable=function(a){w&&a.setAttribute("unselectable","on")},x.data=function(c){c=E.getQueryElement(c);var a=c&&c.flickityGUID;return a&&q[a]},E.htmlInit(x,"flickity"),j&&j.bridget&&j.bridget("flickity",x),x.Cell=F,x}),function(b,a){"function"==typeof define&&define.amd?define("unipointer/unipointer",["eventEmitter/EventEmitter","eventie/eventie"],function(c,d){return a(b,c,d)}):"object"==typeof exports?module.exports=a(b,require("wolfy87-eventemitter"),require("eventie")):b.Unipointer=a(b,b.EventEmitter,b.eventie)}(window,function(g,a,b){function c(){}function d(){}d.prototype=new a,d.prototype.bindStartEvent=function(e){this._bindStartEvent(e,!0)},d.prototype.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},d.prototype._bindStartEvent=function(h,i){i=void 0===i?!0:!!i;var j=i?"bind":"unbind";g.navigator.pointerEnabled?b[j](h,"pointerdown",this):g.navigator.msPointerEnabled?b[j](h,"MSPointerDown",this):(b[j](h,"mousedown",this),b[j](h,"touchstart",this))},d.prototype.handleEvent=function(i){var h="on"+i.type;this[h]&&this[h](i)},d.prototype.getTouch=function(l){for(var h=0,j=l.length;j>h;h++){var k=l[h];if(k.identifier==this.pointerIdentifier){return k}}},d.prototype.onmousedown=function(i){var h=i.button;h&&0!==h&&1!==h||this._pointerDown(i,i)},d.prototype.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},d.prototype.onMSPointerDown=d.prototype.onpointerdown=function(e){this._pointerDown(e,e)},d.prototype._pointerDown=function(i,h){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==h.pointerId?h.pointerId:h.identifier,this.pointerDown(i,h))},d.prototype.pointerDown=function(i,h){this._bindPostStartEvents(i),this.emitEvent("pointerDown",[i,h])};var f={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return d.prototype._bindPostStartEvents=function(i){if(i){for(var k=f[i.type],m=i.preventDefault?g:document,p=0,h=k.length;h>p;p++){var j=k[p];b.bind(m,j,this)}this._boundPointerEvents={events:k,node:m}}},d.prototype._unbindPostStartEvents=function(){var k=this._boundPointerEvents;if(k&&k.events){for(var h=0,i=k.events.length;i>h;h++){var j=k.events[h];b.unbind(k.node,j,this)}delete this._boundPointerEvents}},d.prototype.onmousemove=function(e){this._pointerMove(e,e)},d.prototype.onMSPointerMove=d.prototype.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},d.prototype.ontouchmove=function(i){var h=this.getTouch(i.changedTouches);h&&this._pointerMove(i,h)},d.prototype._pointerMove=function(i,h){this.pointerMove(i,h)},d.prototype.pointerMove=function(i,h){this.emitEvent("pointerMove",[i,h])},d.prototype.onmouseup=function(e){this._pointerUp(e,e)},d.prototype.onMSPointerUp=d.prototype.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},d.prototype.ontouchend=function(i){var h=this.getTouch(i.changedTouches);h&&this._pointerUp(i,h)},d.prototype._pointerUp=function(i,h){this._pointerDone(),this.pointerUp(i,h)},d.prototype.pointerUp=function(i,h){this.emitEvent("pointerUp",[i,h])},d.prototype._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},d.prototype.pointerDone=c,d.prototype.onMSPointerCancel=d.prototype.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},d.prototype.ontouchcancel=function(i){var h=this.getTouch(i.changedTouches);h&&this._pointerCancel(i,h)},d.prototype._pointerCancel=function(i,h){this._pointerDone(),this.pointerCancel(i,h)},d.prototype.pointerCancel=function(i,h){this.emitEvent("pointerCancel",[i,h])},d.getPointerPoint=function(e){return{x:void 0!==e.pageX?e.pageX:e.clientX,y:void 0!==e.pageY?e.pageY:e.clientY}},d}),function(b,a){"function"==typeof define&&define.amd?define("unidragger/unidragger",["eventie/eventie","unipointer/unipointer"],function(c,d){return a(b,c,d)}):"object"==typeof exports?module.exports=a(b,require("eventie"),require("unipointer")):b.Unidragger=a(b,b.eventie,b.Unipointer)}(window,function(v,f,j){function m(){}function p(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function q(){}function u(){return !1}q.prototype=new j,q.prototype.bindHandles=function(){this._bindHandles(!0)},q.prototype.unbindHandles=function(){this._bindHandles(!1)};var b=v.navigator;q.prototype._bindHandles=function(w){w=void 0===w?!0:!!w;var a;a=b.pointerEnabled?function(i){i.style.touchAction=w?"none":""}:b.msPointerEnabled?function(i){i.style.msTouchAction=w?"none":""}:function(){w&&g(l)};for(var c=w?"bind":"unbind",e=0,h=this.handles.length;h>e;e++){var l=this.handles[e];this._bindStartEvent(l,w),a(l),f[c](l,"click",this)}};var k="attachEvent" in document.documentElement,g=k?function(r){"IMG"==r.nodeName&&(r.ondragstart=u);for(var a=r.querySelectorAll("img"),c=0,h=a.length;h>c;c++){var l=a[c];l.ondragstart=u}}:m;q.prototype.pointerDown=function(a,c){if("INPUT"==a.target.nodeName&&"range"==a.target.type){return this.isPointerDown=!1,void delete this.pointerIdentifier}this._dragPointerDown(a,c);var e=document.activeElement;e&&e.blur&&e.blur(),this._bindPostStartEvents(a),this.pointerDownScroll=q.getScrollPosition(),f.bind(v,"scroll",this),this.emitEvent("pointerDown",[a,c])},q.prototype._dragPointerDown=function(i,a){this.pointerDownPoint=j.getPointerPoint(a);var c="touchstart"==i.type,h=i.target.nodeName;c||"SELECT"==h||p(i)},q.prototype.pointerMove=function(h,a){var c=this._dragPointerMove(h,a);this.emitEvent("pointerMove",[h,a,c]),this._dragMove(h,a,c)},q.prototype._dragPointerMove=function(i,a){var c=j.getPointerPoint(a),h={x:c.x-this.pointerDownPoint.x,y:c.y-this.pointerDownPoint.y};return !this.isDragging&&this.hasDragStarted(h)&&this._dragStart(i,a),h},q.prototype.hasDragStarted=function(a){return Math.abs(a.x)>3||Math.abs(a.y)>3},q.prototype.pointerUp=function(c,a){this.emitEvent("pointerUp",[c,a]),this._dragPointerUp(c,a)},q.prototype._dragPointerUp=function(c,a){this.isDragging?this._dragEnd(c,a):this._staticClick(c,a)},q.prototype.pointerDone=function(){f.unbind(v,"scroll",this)},q.prototype._dragStart=function(c,a){this.isDragging=!0,this.dragStartPoint=q.getPointerPoint(a),this.isPreventingClicks=!0,this.dragStart(c,a)},q.prototype.dragStart=function(c,a){this.emitEvent("dragStart",[c,a])},q.prototype._dragMove=function(h,a,c){this.isDragging&&this.dragMove(h,a,c)},q.prototype.dragMove=function(h,a,c){p(h),this.emitEvent("dragMove",[h,a,c])},q.prototype._dragEnd=function(h,a){this.isDragging=!1;var c=this;setTimeout(function(){delete c.isPreventingClicks}),this.dragEnd(h,a)},q.prototype.dragEnd=function(c,a){this.emitEvent("dragEnd",[c,a])},q.prototype.pointerDone=function(){f.unbind(v,"scroll",this),delete this.pointerDownScroll},q.prototype.onclick=function(a){this.isPreventingClicks&&p(a)},q.prototype._staticClick=function(l,a){if(!this.isIgnoringMouseUp||"mouseup"!=l.type){var c=l.target.nodeName;if(("INPUT"==c||"TEXTAREA"==c)&&l.target.focus(),this.staticClick(l,a),"mouseup"!=l.type){this.isIgnoringMouseUp=!0;var h=this;setTimeout(function(){delete h.isIgnoringMouseUp},400)}}},q.prototype.staticClick=function(c,a){this.emitEvent("staticClick",[c,a])},q.prototype.onscroll=function(){var h=q.getScrollPosition(),a=this.pointerDownScroll.x-h.x,c=this.pointerDownScroll.y-h.y;(Math.abs(a)>3||Math.abs(c)>3)&&this._pointerDone()},q.getPointerPoint=function(a){return{x:void 0!==a.pageX?a.pageX:a.clientX,y:void 0!==a.pageY?a.pageY:a.clientY}};var d=void 0!==v.pageYOffset;return q.getScrollPosition=function(){return{x:d?v.pageXOffset:document.body.scrollLeft,y:d?v.pageYOffset:document.body.scrollTop}},q.getPointerPoint=j.getPointerPoint,q}),function(b,a){"function"==typeof define&&define.amd?define("flickity/js/drag",["classie/classie","eventie/eventie","./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(c,d,e,f,g){return a(b,c,d,e,f,g)}):"object"==typeof exports?module.exports=a(b,require("desandro-classie"),require("eventie"),require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):b.Flickity=a(b,b.classie,b.eventie,b.Flickity,b.Unidragger,b.fizzyUIUtils)}(window,function(m,c,d,g,h,j){function k(a){a.preventDefault?a.preventDefault():a.returnValue=!1}j.extend(g.defaults,{draggable:!0}),g.createMethods.push("_createDrag"),j.extend(g.prototype,h.prototype),g.prototype._createDrag=function(){this.on("activate",this.bindDrag),this.on("uiChange",this._uiChangeDrag),this.on("childUIPointerDown",this._childUIPointerDownDrag),this.on("deactivate",this.unbindDrag)},g.prototype.bindDrag=function(){this.options.draggable&&!this.isDragBound&&(c.add(this.element,"is-draggable"),this.handles=[this.viewport],this.bindHandles(),this.isDragBound=!0)},g.prototype.unbindDrag=function(){this.isDragBound&&(c.remove(this.element,"is-draggable"),this.unbindHandles(),delete this.isDragBound)},g.prototype._uiChangeDrag=function(){delete this.isFreeScrolling},g.prototype._childUIPointerDownDrag=function(a){k(a),this.pointerDownFocus(a)},g.prototype.pointerDown=function(a,e){if("INPUT"==a.target.nodeName&&"range"==a.target.type){return this.isPointerDown=!1,void delete this.pointerIdentifier}this._dragPointerDown(a,e);var i=document.activeElement;i&&i.blur&&i!=this.element&&i!=document.body&&i.blur(),this.pointerDownFocus(a),this.dragX=this.x,c.add(this.viewport,"is-pointer-down"),this._bindPostStartEvents(a),this.pointerDownScroll=h.getScrollPosition(),d.bind(m,"scroll",this),this.dispatchEvent("pointerDown",a,[e])};var b={touchstart:!0,MSPointerDown:!0},f={INPUT:!0,SELECT:!0};return g.prototype.pointerDownFocus=function(a){if(this.options.accessibility&&!b[a.type]&&!f[a.target.nodeName]){var l=m.pageYOffset;this.element.focus(),m.pageYOffset!=l&&m.scrollTo(m.pageXOffset,l)}},g.prototype.hasDragStarted=function(a){return Math.abs(a.x)>3},g.prototype.pointerUp=function(e,a){c.remove(this.viewport,"is-pointer-down"),this.dispatchEvent("pointerUp",e,[a]),this._dragPointerUp(e,a)},g.prototype.pointerDone=function(){d.unbind(m,"scroll",this),delete this.pointerDownScroll},g.prototype.dragStart=function(i,a){this.dragStartPosition=this.x,this.startAnimation(),this.dispatchEvent("dragStart",i,[a])},g.prototype.dragMove=function(w,p,q){k(w),this.previousDragX=this.dragX;var s=this.options.rightToLeft?-1:1,u=this.dragStartPosition+q.x*s;if(!this.options.wrapAround&&this.cells.length){var v=Math.max(-this.cells[0].target,this.dragStartPosition);u=u>v?0.5*(u+v):u;var l=Math.min(-this.getLastCell().target,this.dragStartPosition);u=l>u?0.5*(u+l):u}this.dragX=u,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",w,[p,q])},g.prototype.dragEnd=function(p,a){this.options.freeScroll&&(this.isFreeScrolling=!0);var l=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var o=this.getRestingPosition();this.isFreeScrolling=-o>this.cells[0].target&&-o<this.getLastCell().target}else{this.options.freeScroll||l!=this.selectedIndex||(l+=this.dragEndBoostSelect())}delete this.previousDragX,this.select(l),this.dispatchEvent("dragEnd",p,[a])},g.prototype.dragEndRestingSelect=function(){var r=this.getRestingPosition(),a=Math.abs(this.getCellDistance(-r,this.selectedIndex)),l=this._getClosestResting(r,a,1),p=this._getClosestResting(r,a,-1),q=l.distance<p.distance?l.index:p.index;return q},g.prototype._getClosestResting=function(u,a,l){for(var p=this.selectedIndex,q=1/0,s=this.options.contain&&!this.options.wrapAround?function(n,i){return i>=n}:function(n,i){return i>n};s(a,q)&&(p+=l,q=a,a=this.getCellDistance(-u,p),null!==a);){a=Math.abs(a)}return{distance:q,index:p-l}},g.prototype.getCellDistance=function(w,p){var q=this.cells.length,r=this.options.wrapAround&&q>1,u=r?j.modulo(p,q):p,v=this.cells[u];if(!v){return null}var l=r?this.slideableWidth*Math.floor(p/q):0;return w-(v.target+l)},g.prototype.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100){return 0}var i=this.getCellDistance(-this.dragX,this.selectedIndex),a=this.previousDragX-this.dragX;return i>0&&a>0?1:0>i&&0>a?-1:0},g.prototype.staticClick=function(r,a){var l=this.getParentCell(r.target),p=l&&l.element,q=l&&j.indexOf(this.cells,l);this.dispatchEvent("staticClick",r,[a,p,q])},g}),function(b,a){"function"==typeof define&&define.amd?define("tap-listener/tap-listener",["unipointer/unipointer"],function(c){return a(b,c)}):"object"==typeof exports?module.exports=a(b,require("unipointer")):b.TapListener=a(b,b.Unipointer)}(window,function(d,a){function b(e){this.bindTap(e)}b.prototype=new a,b.prototype.bindTap=function(e){e&&(this.unbindTap(),this.tapElement=e,this._bindStartEvent(e,!0))},b.prototype.unbindTap=function(){this.tapElement&&(this._bindStartEvent(this.tapElement,!0),delete this.tapElement)};var c=void 0!==d.pageYOffset;return b.prototype.pointerUp=function(g,k){if(!this.isIgnoringMouseUp||"mouseup"!=g.type){var m=a.getPointerPoint(k),n=this.tapElement.getBoundingClientRect(),e=c?d.pageXOffset:document.body.scrollLeft,j=c?d.pageYOffset:document.body.scrollTop,f=m.x>=n.left+e&&m.x<=n.right+e&&m.y>=n.top+j&&m.y<=n.bottom+j;f&&this.emitEvent("tap",[g,k]),"mouseup"!=g.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),320))}},b.prototype.destroy=function(){this.pointerDone(),this.unbindTap()},b}),function(b,a){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["eventie/eventie","./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(c,d,e,f){return a(b,c,d,e,f)}):"object"==typeof exports?module.exports=a(b,require("eventie"),require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):a(b,b.eventie,b.Flickity,b.TapListener,b.fizzyUIUtils)}(window,function(m,c,d,g,h){function j(i,a){this.direction=i,this.parent=a,this._create()}function k(a){return"string"==typeof a?a:"M "+a.x0+",50 L "+a.x1+","+(a.y1+50)+" L "+a.x2+","+(a.y2+50)+" L "+a.x3+",50  L "+a.x2+","+(50-a.y2)+" L "+a.x1+","+(50-a.y1)+" Z"}var b="http://www.w3.org/2000/svg",f=function(){function i(){if(void 0!==a){return a}var e=document.createElement("div");return e.innerHTML="<svg/>",a=(e.firstChild&&e.firstChild.namespaceURI)==b}var a;return i}();return j.prototype=new g,j.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var p=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==p;var a=this.element=document.createElement("button");if(a.className="flickity-prev-next-button",a.className+=this.isPrevious?" previous":" next",a.setAttribute("type","button"),this.disable(),a.setAttribute("aria-label",this.isPrevious?"previous":"next"),d.setUnselectable(a),f()){var i=this.createSVG();a.appendChild(i)}else{this.setArrowText(),a.className+=" no-svg"}var l=this;this.onCellSelect=function(){l.update()},this.parent.on("cellSelect",this.onCellSelect),this.on("tap",this.onTap),this.on("pointerDown",function(o,n){l.parent.childUIPointerDown(n)})},j.prototype.activate=function(){this.bindTap(this.element),c.bind(this.element,"click",this),this.parent.element.appendChild(this.element)},j.prototype.deactivate=function(){this.parent.element.removeChild(this.element),g.prototype.destroy.call(this),c.unbind(this.element,"click",this)},j.prototype.createSVG=function(){var n=document.createElementNS(b,"svg");n.setAttribute("viewBox","0 0 100 100");var a=document.createElementNS(b,"path"),l=k(this.parent.options.arrowShape);return a.setAttribute("d",l),a.setAttribute("class","arrow"),this.isLeft||a.setAttribute("transform","translate(100, 100) rotate(180) "),n.appendChild(a),n},j.prototype.setArrowText=function(){var i=this.parent.options,a=this.isLeft?i.leftArrowText:i.rightArrowText;h.setText(this.element,a)},j.prototype.onTap=function(){if(this.isEnabled){this.parent.uiChange();var a=this.isPrevious?"previous":"next";this.parent[a]()}},j.prototype.handleEvent=h.handleEvent,j.prototype.onclick=function(){var a=document.activeElement;a&&a==this.element&&this.onTap()},j.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},j.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},j.prototype.update=function(){var p=this.parent.cells;if(this.parent.options.wrapAround&&p.length>1){return void this.enable()}var a=p.length?p.length-1:0,l=this.isPrevious?0:a,o=this.parent.selectedIndex==l?"disable":"enable";this[o]()},j.prototype.destroy=function(){this.deactivate()},h.extend(d.defaults,{prevNextButtons:!0,leftArrowText:"",rightArrowText:"",arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),d.createMethods.push("_createPrevNextButtons"),d.prototype._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new j(-1,this),this.nextButton=new j(1,this),this.on("activate",this.activatePrevNextButtons))},d.prototype.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},d.prototype.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},d.PrevNextButton=j,d}),function(b,a){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["eventie/eventie","./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(c,d,e,f){return a(b,c,d,e,f)}):"object"==typeof exports?module.exports=a(b,require("eventie"),require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):a(b,b.eventie,b.Flickity,b.TapListener,b.fizzyUIUtils)}(window,function(g,a,b,c,d){function f(e){this.parent=e,this._create()}return f.prototype=new c,f.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",b.setUnselectable(this.holder),this.dots=[];var e=this;this.onCellSelect=function(){e.updateSelected()},this.parent.on("cellSelect",this.onCellSelect),this.on("tap",this.onTap),this.on("pointerDown",function(h,j){e.parent.childUIPointerDown(j)})},f.prototype.activate=function(){this.setDots(),this.bindTap(this.holder),this.parent.element.appendChild(this.holder)},f.prototype.deactivate=function(){this.parent.element.removeChild(this.holder),c.prototype.destroy.call(this)},f.prototype.setDots=function(){var e=this.parent.cells.length-this.dots.length;e>0?this.addDots(e):0>e&&this.removeDots(-e)},f.prototype.addDots=function(l){for(var h=document.createDocumentFragment(),j=[];l;){var k=document.createElement("li");k.className="dot",h.appendChild(k),j.push(k),l--}this.holder.appendChild(h),this.dots=this.dots.concat(j)},f.prototype.removeDots=function(m){for(var h=this.dots.splice(this.dots.length-m,m),j=0,k=h.length;k>j;j++){var l=h[j];this.holder.removeChild(l)}},f.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot"),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected")},f.prototype.onTap=function(k){var h=k.target;if("LI"==h.nodeName){this.parent.uiChange();var j=d.indexOf(this.dots,h);this.parent.select(j)}},f.prototype.destroy=function(){this.deactivate()},b.PageDots=f,d.extend(b.defaults,{pageDots:!0}),b.createMethods.push("_createPageDots"),b.prototype._createPageDots=function(){this.options.pageDots&&(this.pageDots=new f(this),this.on("activate",this.activatePageDots),this.on("cellAddedRemoved",this.onCellAddedRemovedPageDots),this.on("deactivate",this.deactivatePageDots))},b.prototype.activatePageDots=function(){this.pageDots.activate()},b.prototype.onCellAddedRemovedPageDots=function(){this.pageDots.setDots()},b.prototype.deactivatePageDots=function(){this.pageDots.deactivate()},b.PageDots=f,b}),function(b,a){"function"==typeof define&&define.amd?define("flickity/js/player",["eventEmitter/EventEmitter","eventie/eventie","fizzy-ui-utils/utils","./flickity"],function(f,c,d,e){return a(f,c,d,e)}):"object"==typeof exports?module.exports=a(require("wolfy87-eventemitter"),require("eventie"),require("fizzy-ui-utils"),require("./flickity")):a(b.EventEmitter,b.eventie,b.fizzyUIUtils,b.Flickity)}(window,function(h,a,b,c){function d(j){if(this.parent=j,this.state="stopped",g){var i=this;this.onVisibilityChange=function(){i.visibilityChange()}}}var f,g;return"hidden" in document?(f="hidden",g="visibilitychange"):"webkitHidden" in document&&(f="webkitHidden",g="webkitvisibilitychange"),d.prototype=new h,d.prototype.play=function(){"playing"!=this.state&&(this.state="playing",g&&document.addEventListener(g,this.onVisibilityChange,!1),this.tick())},d.prototype.tick=function(){if("playing"==this.state){var j=this.parent.options.autoPlay;j="number"==typeof j?j:3000;var i=this;this.clear(),this.timeout=setTimeout(function(){i.parent.next(!0),i.tick()},j)}},d.prototype.stop=function(){this.state="stopped",this.clear(),g&&document.removeEventListener(g,this.onVisibilityChange,!1)},d.prototype.clear=function(){clearTimeout(this.timeout)},d.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},d.prototype.unpause=function(){"paused"==this.state&&this.play()},d.prototype.visibilityChange=function(){var e=document[f];this[e?"pause":"unpause"]()},b.extend(c.defaults,{pauseAutoPlayOnHover:!0}),c.createMethods.push("_createPlayer"),c.prototype._createPlayer=function(){this.player=new d(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},c.prototype.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),a.bind(this.element,"mouseenter",this),this.isMouseenterBound=!0)},c.prototype.playPlayer=function(){this.player.play()},c.prototype.stopPlayer=function(){this.player.stop()},c.prototype.pausePlayer=function(){this.player.pause()},c.prototype.unpausePlayer=function(){this.player.unpause()},c.prototype.deactivatePlayer=function(){this.player.stop(),this.isMouseenterBound&&(a.unbind(this.element,"mouseenter",this),delete this.isMouseenterBound)},c.prototype.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),a.bind(this.element,"mouseleave",this))},c.prototype.onmouseleave=function(){this.player.unpause(),a.unbind(this.element,"mouseleave",this)},c.Player=d,c}),function(b,a){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(c,d){return a(b,c,d)}):"object"==typeof exports?module.exports=a(b,require("./flickity"),require("fizzy-ui-utils")):a(b,b.Flickity,b.fizzyUIUtils)}(window,function(d,a,b){function c(k){for(var f=document.createDocumentFragment(),g=0,h=k.length;h>g;g++){var j=k[g];f.appendChild(j.element)}return f}return a.prototype.insert=function(u,g){var k=this._makeCells(u);if(k&&k.length){var n=this.cells.length;g=void 0===g?n:g;var p=c(k),q=g==n;if(q){this.slider.appendChild(p)}else{var f=this.cells[g].element;this.slider.insertBefore(p,f)}if(0===g){this.cells=k.concat(this.cells)}else{if(q){this.cells=this.cells.concat(k)}else{var m=this.cells.splice(g,n-g);this.cells=this.cells.concat(k).concat(m)}}this._sizeCells(k);var j=g>this.selectedIndex?0:k.length;this._cellAddedRemoved(g,j)}},a.prototype.append=function(e){this.insert(e,this.cells.length)},a.prototype.prepend=function(e){this.insert(e,0)},a.prototype.remove=function(l){var g,h,i,j=this.getCells(l),k=0;for(g=0,h=j.length;h>g;g++){i=j[g];var f=b.indexOf(this.cells,i)<this.selectedIndex;k-=f?1:0}for(g=0,h=j.length;h>g;g++){i=j[g],i.remove(),b.removeFrom(this.cells,i)}j.length&&this._cellAddedRemoved(0,k)},a.prototype._cellAddedRemoved=function(g,f){f=f||0,this.selectedIndex+=f,this.selectedIndex=Math.max(0,Math.min(this.cells.length-1,this.selectedIndex)),this.emitEvent("cellAddedRemoved",[g,f]),this.cellChange(g,!0)},a.prototype.cellSizeChange=function(h){var f=this.getCell(h);if(f){f.getSize();var g=b.indexOf(this.cells,f);this.cellChange(g)}},a.prototype.cellChange=function(j,f){var g=this.slideableWidth;if(this._positionCells(j),this._getWrapShiftCells(),this.setGallerySize(),this.options.freeScroll){var h=g-this.slideableWidth;this.x+=h*this.cellAlign,this.positionSlider()}else{f&&this.positionSliderAtSelected(),this.select(this.selectedIndex)}},a}),function(b,a){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["classie/classie","eventie/eventie","./flickity","fizzy-ui-utils/utils"],function(c,d,e,f){return a(b,c,d,e,f)}):"object"==typeof exports?module.exports=a(b,require("desandro-classie"),require("eventie"),require("./flickity"),require("fizzy-ui-utils")):a(b,b.classie,b.eventie,b.Flickity,b.fizzyUIUtils)}(window,function(h,a,b,c,d){function f(j){if("IMG"==j.nodeName&&j.getAttribute("data-flickity-lazyload")){return[j]}var i=j.querySelectorAll("img[data-flickity-lazyload]");return d.makeArray(i)}function g(j,i){this.img=j,this.flickity=i,this.load()}return c.createMethods.push("_createLazyload"),c.prototype._createLazyload=function(){this.on("cellSelect",this.lazyLoad)},c.prototype.lazyLoad=function(){var v=this.options.lazyLoad;if(v){for(var m="number"==typeof v?v:0,q=this.getAdjacentCellElements(m),s=[],u=0,j=q.length;j>u;u++){var r=q[u],p=f(r);s=s.concat(p)}for(u=0,j=s.length;j>u;u++){var k=s[u];new g(k,this)}}},g.prototype.handleEvent=d.handleEvent,g.prototype.load=function(){b.bind(this.img,"load",this),b.bind(this.img,"error",this),this.img.src=this.img.getAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload")},g.prototype.onload=function(e){this.complete(e,"flickity-lazyloaded")},g.prototype.onerror=function(e){this.complete(e,"flickity-lazyerror")},g.prototype.complete=function(k,e){b.unbind(this.img,"load",this),b.unbind(this.img,"error",this);var i=this.flickity.getParentCell(this.img),j=i&&i.element;this.flickity.cellSizeChange(j),a.add(this.img,e),this.flickity.dispatchEvent("lazyLoad",k,j)},c.LazyLoader=g,c}),function(b,a){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],a):"object"==typeof exports&&(module.exports=a(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}(window,function(a){return a}),function(b,a){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["classie/classie","flickity/js/index","fizzy-ui-utils/utils"],function(c,d,e){return a(b,c,d,e)}):"object"==typeof exports?module.exports=a(b,require("desandro-classie"),require("flickity"),require("fizzy-ui-utils")):b.Flickity=a(b,b.classie,b.Flickity,b.fizzyUIUtils)}(window,function(d,a,b,c){return b.createMethods.push("_createAsNavFor"),b.prototype._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var g=this.options.asNavFor;if(g){var f=this;setTimeout(function(){f.setNavCompanion(g)})}},b.prototype.setNavCompanion=function(h){h=c.getQueryElement(h);var f=b.data(h);if(f&&f!=this){this.navCompanion=f;var g=this;this.onNavCompanionSelect=function(){g.navCompanionSelect()},f.on("cellSelect",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect()}},b.prototype.navCompanionSelect=function(){if(this.navCompanion){var e=this.navCompanion.selectedIndex;this.select(e),this.removeNavSelectedElement(),this.selectedIndex==e&&(this.navSelectedElement=this.cells[e].element,a.add(this.navSelectedElement,"is-nav-selected"))}},b.prototype.activateAsNavFor=function(){this.navCompanionSelect()},b.prototype.removeNavSelectedElement=function(){this.navSelectedElement&&(a.remove(this.navSelectedElement,"is-nav-selected"),delete this.navSelectedElement)},b.prototype.onNavStaticClick=function(j,f,g,h){"number"==typeof h&&this.navCompanion.select(h)},b.prototype.deactivateAsNavFor=function(){this.removeNavSelectedElement()},b.prototype.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("cellSelect",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},b}),function(b,a){"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["eventEmitter/EventEmitter","eventie/eventie"],function(c,d){return a(b,c,d)}):"object"==typeof module&&module.exports?module.exports=a(b,require("wolfy87-eventemitter"),require("eventie")):b.imagesLoaded=a(b,b.EventEmitter,b.eventie)}(window,function(A,j,m){function v(d,a){for(var c in a){d[c]=a[c]}return d}function w(a){return"[object Array]"==x.call(a)}function y(d){var a=[];if(w(d)){a=d}else{if("number"==typeof d.length){for(var c=0;c<d.length;c++){a.push(d[c])}}else{a.push(d)}}return a}function z(h,a,c){if(!(this instanceof z)){return new z(h,a,c)}"string"==typeof h&&(h=document.querySelectorAll(h)),this.elements=y(h),this.options=v({},this.options),"function"==typeof a?c=a:v(this.options,a),c&&this.on("always",c),this.getImages(),k&&(this.jqDeferred=new k.Deferred);var d=this;setTimeout(function(){d.check()})}function b(a){this.img=a}function q(c,a){this.url=c,this.element=a,this.img=new Image}var k=A.jQuery,f=A.console,x=Object.prototype.toString;z.prototype=new j,z.prototype.options={},z.prototype.getImages=function(){this.images=[];for(var c=0;c<this.elements.length;c++){var a=this.elements[c];this.addElementImages(a)}},z.prototype.addElementImages=function(u){"IMG"==u.nodeName&&this.addImage(u),this.options.background===!0&&this.addElementBackgroundImages(u);var a=u.nodeType;if(a&&g[a]){for(var c=u.querySelectorAll("img"),d=0;d<c.length;d++){var h=c[d];this.addImage(h)}if("string"==typeof this.options.background){var l=u.querySelectorAll(this.options.background);for(d=0;d<l.length;d++){var p=l[d];this.addElementBackgroundImages(p)}}}};var g={1:!0,9:!0,11:!0};z.prototype.addElementBackgroundImages=function(l){for(var a=B(l),c=/url\(['"]*([^'"\)]+)['"]*\)/gi,d=c.exec(a.backgroundImage);null!==d;){var h=d&&d[1];h&&this.addBackground(h,l),d=c.exec(a.backgroundImage)}};var B=A.getComputedStyle||function(a){return a.currentStyle};return z.prototype.addImage=function(c){var a=new b(c);this.images.push(a)},z.prototype.addBackground=function(d,a){var c=new q(d,a);this.images.push(c)},z.prototype.check=function(){function h(o,e,l){setTimeout(function(){a.progress(o,e,l)})}var a=this;if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){return void this.complete()}for(var c=0;c<this.images.length;c++){var d=this.images[c];d.once("progress",h),d.check()}},z.prototype.progress=function(d,a,c){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!d.isLoaded,this.emit("progress",this,d,a),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,d),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&f&&f.log("progress: "+c,d,a)},z.prototype.complete=function(){var c=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emit(c,this),this.emit("always",this),this.jqDeferred){var a=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[a](this)}},b.prototype=new j,b.prototype.check=function(){var a=this.getIsImageComplete();return a?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,m.bind(this.proxyImage,"load",this),m.bind(this.proxyImage,"error",this),m.bind(this.img,"load",this),m.bind(this.img,"error",this),void (this.proxyImage.src=this.img.src))},b.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},b.prototype.confirm=function(c,a){this.isLoaded=c,this.emit("progress",this,this.img,a)},b.prototype.handleEvent=function(c){var a="on"+c.type;this[a]&&this[a](c)},b.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},b.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},b.prototype.unbindEvents=function(){m.unbind(this.proxyImage,"load",this),m.unbind(this.proxyImage,"error",this),m.unbind(this.img,"load",this),m.unbind(this.img,"error",this)},q.prototype=new b,q.prototype.check=function(){m.bind(this.img,"load",this),m.bind(this.img,"error",this),this.img.src=this.url;var a=this.getIsImageComplete();a&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},q.prototype.unbindEvents=function(){m.unbind(this.img,"load",this),m.unbind(this.img,"error",this)},q.prototype.confirm=function(c,a){this.isLoaded=c,this.emit("progress",this,this.element,a)},z.makeJQueryPlugin=function(a){a=a||A.jQuery,a&&(k=a,k.fn.imagesLoaded=function(h,c){var d=new z(this,h,c);return d.jqDeferred.promise(k(this))})},z.makeJQueryPlugin(),z}),function(b,a){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(c,d){return a(b,c,d)}):"object"==typeof exports?module.exports=a(b,require("flickity"),require("imagesloaded")):b.Flickity=a(b,b.Flickity,b.imagesLoaded)}(window,function(c,a,b){return a.createMethods.push("_createImagesLoaded"),a.prototype._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},a.prototype.imagesLoaded=function(){function f(h,e){var g=d.getParentCell(e.img);d.cellSizeChange(g&&g.element),d.options.freeScroll||d.positionSliderAtSelected()}if(this.options.imagesLoaded){var d=this;b(this.slider).on("progress",f)}},a});{% endraw %}</script>